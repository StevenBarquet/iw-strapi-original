(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[1],{

/***/ 2487:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var _EditViewDataManager=_interopRequireDefault(__webpack_require__(2523));var useDataManager=function useDataManager(){return(0,_react.useContext)(_EditViewDataManager["default"]);};var _default=useDataManager;exports["default"]=_default;

/***/ }),

/***/ 2488:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _pluginId=_interopRequireDefault(__webpack_require__(113));var getTrad=function getTrad(id){return"".concat(_pluginId["default"],".").concat(id);};var _default=getTrad;exports["default"]=_default;

/***/ }),

/***/ 2489:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding: 18px 30px 18px 30px;\n"]);_templateObject=function _templateObject(){return data;};return data;}var Container=_styledComponents["default"].div(_templateObject());var _default=Container;exports["default"]=_default;

/***/ }),

/***/ 2490:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"dateFormats",{enumerable:true,get:function get(){return _dateFormats["default"];}});Object.defineProperty(exports,"generatePermissionsObject",{enumerable:true,get:function get(){return _generatePermissionsObject["default"];}});Object.defineProperty(exports,"getFieldName",{enumerable:true,get:function get(){return _getFieldName["default"];}});Object.defineProperty(exports,"getRequestUrl",{enumerable:true,get:function get(){return _getRequestUrl["default"];}});Object.defineProperty(exports,"getTrad",{enumerable:true,get:function get(){return _getTrad["default"];}});Object.defineProperty(exports,"ItemTypes",{enumerable:true,get:function get(){return _ItemTypes["default"];}});var _dateFormats=_interopRequireDefault(__webpack_require__(2494));var _generatePermissionsObject=_interopRequireDefault(__webpack_require__(2509));var _getFieldName=_interopRequireDefault(__webpack_require__(2510));var _getRequestUrl=_interopRequireDefault(__webpack_require__(776));var _getTrad=_interopRequireDefault(__webpack_require__(2488));var _ItemTypes=_interopRequireDefault(__webpack_require__(774));

/***/ }),

/***/ 2491:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var _EditView=_interopRequireDefault(__webpack_require__(2522));var useEditView=function useEditView(){return(0,_react.useContext)(_EditView["default"]);};var _default=useEditView;exports["default"]=_default;

/***/ }),

/***/ 2494:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(10));var _strapiHelperPlugin=__webpack_require__(8);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var dateFormats=_objectSpread({},_strapiHelperPlugin.dateFormats);var _default=dateFormats;exports["default"]=_default;

/***/ }),

/***/ 2496:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);var _interopRequireWildcard=__webpack_require__(5);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(9);var _reactIntl=__webpack_require__(14);var _reactFontawesome=__webpack_require__(33);var _reactFastCompare=_interopRequireDefault(__webpack_require__(394));var _pluginId=_interopRequireDefault(__webpack_require__(113));var _useEditView2=_interopRequireDefault(__webpack_require__(2491));var _ComponentInitializer=_interopRequireDefault(__webpack_require__(2569));var _NonRepeatableComponent=_interopRequireDefault(__webpack_require__(2571));var _NotAllowedInput=_interopRequireDefault(__webpack_require__(2497));var _RepeatableComponent=_interopRequireDefault(__webpack_require__(2616));var _connect=_interopRequireDefault(__webpack_require__(2628));var _select=_interopRequireDefault(__webpack_require__(2629));var _ComponentIcon=_interopRequireDefault(__webpack_require__(2630));var _Label=_interopRequireDefault(__webpack_require__(2631));var _ResetComponent=_interopRequireDefault(__webpack_require__(2632));var _Wrapper=_interopRequireDefault(__webpack_require__(2633));/* eslint-disable  import/no-cycle */var FieldComponent=function FieldComponent(_ref){var componentFriendlyName=_ref.componentFriendlyName,componentUid=_ref.componentUid,icon=_ref.icon,isCreatingEntry=_ref.isCreatingEntry,isFromDynamicZone=_ref.isFromDynamicZone,isRepeatable=_ref.isRepeatable,isNested=_ref.isNested,label=_ref.label,max=_ref.max,min=_ref.min,name=_ref.name,hasChildrenAllowedFields=_ref.hasChildrenAllowedFields,hasChildrenReadableFields=_ref.hasChildrenReadableFields,isReadOnly=_ref.isReadOnly,componentValue=_ref.componentValue,removeComponentFromField=_ref.removeComponentFromField;var _useEditView=(0,_useEditView2["default"])(),allLayoutData=_useEditView.allLayoutData;var componentValueLength=(0,_lodash.size)(componentValue);var isInitialized=componentValue!==null||isFromDynamicZone;var showResetComponent=!isRepeatable&&isInitialized&&!isFromDynamicZone&&hasChildrenAllowedFields;var currentComponentSchema=(0,_lodash.get)(allLayoutData,['components',componentUid],{});var displayedFields=(0,_lodash.get)(currentComponentSchema,['layouts','edit'],[]);if(!hasChildrenAllowedFields&&isCreatingEntry){return/*#__PURE__*/_react["default"].createElement("div",{className:"col-12"},/*#__PURE__*/_react["default"].createElement(_NotAllowedInput["default"],{label:label}));}if(!hasChildrenAllowedFields&&!isCreatingEntry&&!hasChildrenReadableFields){return/*#__PURE__*/_react["default"].createElement("div",{className:"col-12"},/*#__PURE__*/_react["default"].createElement(_NotAllowedInput["default"],{label:label}));}return/*#__PURE__*/_react["default"].createElement(_Wrapper["default"],{className:"col-12",isFromDynamicZone:isFromDynamicZone},isFromDynamicZone&&/*#__PURE__*/_react["default"].createElement(_ComponentIcon["default"],{title:componentFriendlyName},/*#__PURE__*/_react["default"].createElement("div",{className:"component_name"},/*#__PURE__*/_react["default"].createElement("div",{className:"component_icon"},/*#__PURE__*/_react["default"].createElement(_reactFontawesome.FontAwesomeIcon,{icon:icon,title:componentFriendlyName})),/*#__PURE__*/_react["default"].createElement("p",null,componentFriendlyName))),/*#__PURE__*/_react["default"].createElement(_Label["default"],null,label,"\xA0",isRepeatable&&"(".concat(componentValueLength,")")),showResetComponent&&/*#__PURE__*/_react["default"].createElement(_ResetComponent["default"],{onClick:function onClick(e){e.preventDefault();e.stopPropagation();removeComponentFromField(name,componentUid);}},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.reset-entry")}),/*#__PURE__*/_react["default"].createElement("div",null)),!isRepeatable&&!isInitialized&&/*#__PURE__*/_react["default"].createElement(_ComponentInitializer["default"],{componentUid:componentUid,name:name,isReadOnly:isReadOnly}),!isRepeatable&&isInitialized&&/*#__PURE__*/_react["default"].createElement(_NonRepeatableComponent["default"],{componentUid:componentUid,fields:displayedFields,isFromDynamicZone:isFromDynamicZone,name:name,schema:currentComponentSchema}),isRepeatable&&/*#__PURE__*/_react["default"].createElement(_RepeatableComponent["default"],{componentValue:componentValue,componentValueLength:componentValueLength,componentUid:componentUid,fields:displayedFields,isFromDynamicZone:isFromDynamicZone,isNested:isNested,isReadOnly:isReadOnly,max:max,min:min,name:name,schema:currentComponentSchema}));};FieldComponent.defaultProps={componentValue:null,componentFriendlyName:null,hasChildrenAllowedFields:false,hasChildrenReadableFields:false,icon:'smile',isFromDynamicZone:false,isReadOnly:false,isRepeatable:false,isNested:false,max:Infinity,min:-Infinity};FieldComponent.propTypes={componentFriendlyName:_propTypes["default"].string,componentUid:_propTypes["default"].string.isRequired,componentValue:_propTypes["default"].oneOfType([_propTypes["default"].object,_propTypes["default"].array]),hasChildrenAllowedFields:_propTypes["default"].bool,hasChildrenReadableFields:_propTypes["default"].bool,icon:_propTypes["default"].string,isCreatingEntry:_propTypes["default"].bool.isRequired,isFromDynamicZone:_propTypes["default"].bool,isReadOnly:_propTypes["default"].bool,isRepeatable:_propTypes["default"].bool,isNested:_propTypes["default"].bool,label:_propTypes["default"].string.isRequired,max:_propTypes["default"].number,min:_propTypes["default"].number,name:_propTypes["default"].string.isRequired,removeComponentFromField:_propTypes["default"].func.isRequired};var Memoized=/*#__PURE__*/(0,_react.memo)(FieldComponent,_reactFastCompare["default"]);var _default=(0,_connect["default"])(Memoized,_select["default"]);exports["default"]=_default;

/***/ }),

/***/ 2497:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);var _interopRequireWildcard=__webpack_require__(5);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _core=__webpack_require__(11);var _reactIntl=__webpack_require__(14);var _utils=__webpack_require__(2490);var _EyeSlashed=_interopRequireDefault(__webpack_require__(2586));var _BaselineAlignement=_interopRequireDefault(__webpack_require__(2587));var _Field=_interopRequireDefault(__webpack_require__(2588));var NotAllowedInput=function NotAllowedInput(_ref){var label=_ref.label,spacerHeight=_ref.spacerHeight;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var formatMessageRef=(0,_react.useRef)(formatMessage);var text=(0,_react.useMemo)(function(){return formatMessageRef.current({id:(0,_utils.getTrad)('components.NotAllowedInput.text')});},[]);return/*#__PURE__*/_react["default"].createElement(_core.Padded,{bottom:true,size:"smd"},/*#__PURE__*/_react["default"].createElement(_core.Text,{fontWeight:"semiBold",lineHeight:"18px"},label),/*#__PURE__*/_react["default"].createElement(_Field["default"],null,/*#__PURE__*/_react["default"].createElement(_core.Padded,{left:true,right:true,size:"sm"},/*#__PURE__*/_react["default"].createElement(_core.Flex,null,/*#__PURE__*/_react["default"].createElement(_core.Padded,{right:true,size:"sm"},/*#__PURE__*/_react["default"].createElement(_EyeSlashed["default"],null)),/*#__PURE__*/_react["default"].createElement(_core.Text,{fontSize:"md",color:"grey",as:"div",lineHeight:"18px",ellipsis:true},text)))),/*#__PURE__*/_react["default"].createElement(_BaselineAlignement["default"],{height:spacerHeight}));};NotAllowedInput.defaultProps={label:'',spacerHeight:'7px'};NotAllowedInput.propTypes={label:_propTypes["default"].string,spacerHeight:_propTypes["default"].string};var _default=NotAllowedInput;exports["default"]=_default;

/***/ }),

/***/ 2499:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactFontawesome=__webpack_require__(33);var _Wrapper=_interopRequireDefault(__webpack_require__(2500));var DynamicComponentCard=function DynamicComponentCard(_ref){var children=_ref.children,componentUid=_ref.componentUid,friendlyName=_ref.friendlyName,icon=_ref.icon,_onClick=_ref.onClick;return/*#__PURE__*/_react["default"].createElement(_Wrapper["default"],{onClick:function onClick(e){e.preventDefault();e.stopPropagation();_onClick(componentUid);}},/*#__PURE__*/_react["default"].createElement("button",{className:"component-icon",type:"button"},/*#__PURE__*/_react["default"].createElement(_reactFontawesome.FontAwesomeIcon,{icon:icon})),/*#__PURE__*/_react["default"].createElement("div",{className:"component-uid"},/*#__PURE__*/_react["default"].createElement("span",null,friendlyName)),children);};DynamicComponentCard.defaultProps={children:null,friendlyName:'',onClick:function onClick(){},icon:'smile'};DynamicComponentCard.propTypes={children:_propTypes["default"].node,componentUid:_propTypes["default"].string.isRequired,friendlyName:_propTypes["default"].string,icon:_propTypes["default"].string,onClick:_propTypes["default"].func};var _default=DynamicComponentCard;exports["default"]=_default;

/***/ }),

/***/ 2500:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  height: 90px;\n  width: 139px !important;\n  margin-right: 10px;\n  padding: 18px 10px;\n  background-color: #ffffff;\n  color: #919bae;\n  text-align: center;\n  border-radius: 2px;\n  cursor: pointer;\n  border: 1px solid #ffffff;\n\n  button {\n    outline: 0;\n  }\n\n  .component-uid {\n    width: 119px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    color: #919bae;\n    font-weight: 500;\n    font-size: 13px;\n    line-height: normal;\n  }\n\n  .component-icon {\n    width: 35px;\n    height: 35px;\n    margin-bottom: 5px;\n    line-height: 35px;\n    align-self: center;\n    border-radius: 50%;\n    background-color: #e9eaeb;\n    color: #b4b6ba;\n    padding: 0;\n    i,\n    svg {\n      margin: auto;\n      display: block;\n    }\n  }\n\n  &:hover {\n    background-color: #e6f0fb;\n    color: #007eff;\n    border: 1px solid #aed4fb;\n\n    .component-icon {\n      background-color: #aed4fb;\n      color: #007eff;\n    }\n    .component-uid {\n      color: #007eff;\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=_styledComponents["default"].div(_templateObject());var _default=Wrapper;exports["default"]=_default;

/***/ }),

/***/ 2508:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(27));var _extends2=_interopRequireDefault(__webpack_require__(6));var _react=_interopRequireDefault(__webpack_require__(1));var _lodash=__webpack_require__(9);var _pluginId=_interopRequireDefault(__webpack_require__(113));/**
 * Retrieve external links from injected components
 * @type {Array} List of external links to display
 */var getInjectedComponents=function getInjectedComponents(container,area,plugins,currentEnvironment,slug,push){for(var _len=arguments.length,rest=new Array(_len>6?_len-6:0),_key=6;_key<_len;_key++){rest[_key-6]=arguments[_key];}var componentsToInject=Object.keys(plugins).reduce(function(acc,current){// Retrieve injected compos from plugin
var currentPlugin=plugins[current];var injectedComponents=(0,_lodash.get)(currentPlugin,'injectedComponents',[]);var compos=injectedComponents.filter(function(compo){return compo.plugin==="".concat(_pluginId["default"],".").concat(container)&&compo.area===area;}).map(function(compo){var Component=compo.component;return/*#__PURE__*/_react["default"].createElement(Component,(0,_extends2["default"])({viewProps:rest,currentEnvironment:currentEnvironment,getModelName:function getModelName(){return slug;},push:push},compo.props,{key:compo.key}));});return[].concat((0,_toConsumableArray2["default"])(acc),(0,_toConsumableArray2["default"])(compos));},[]);return componentsToInject;};var _default=getInjectedComponents;exports["default"]=_default;

/***/ }),

/***/ 2509:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.addSubjectToPermissionsArray=exports["default"]=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(10));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var addSubjectToPermissionsArray=function addSubjectToPermissionsArray(array,uid){return array.map(function(data){return _objectSpread(_objectSpread({},data),{},{subject:uid});});};exports.addSubjectToPermissionsArray=addSubjectToPermissionsArray;var generatePermissionsObject=function generatePermissionsObject(uid){var permissions={create:[{action:'plugins::content-manager.explorer.create',subject:null}],"delete":[{action:'plugins::content-manager.explorer.delete',subject:null}],read:[{action:'plugins::content-manager.explorer.read',subject:null}],update:[{action:'plugins::content-manager.explorer.update',subject:null}]};return Object.keys(permissions).reduce(function(acc,current){acc[current]=addSubjectToPermissionsArray(permissions[current],uid);return acc;},{});};var _default=generatePermissionsObject;exports["default"]=_default;

/***/ }),

/***/ 2510:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _lodash=__webpack_require__(9);var getFieldName=function getFieldName(stringName){return stringName.split('.').filter(function(string){return(0,_lodash.isNaN)(parseInt(string,10));});};var _default=getFieldName;exports["default"]=_default;

/***/ }),

/***/ 2511:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(10));var _toConsumableArray2=_interopRequireDefault(__webpack_require__(27));var _extends2=_interopRequireDefault(__webpack_require__(6));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(9);var _reactFastCompare=_interopRequireDefault(__webpack_require__(394));var _reactIntl=__webpack_require__(14);var _custom=__webpack_require__(43);var _strapiHelperPlugin=__webpack_require__(8);var _useEditView2=_interopRequireDefault(__webpack_require__(2491));var _utils=__webpack_require__(2490);var _InputJSONWithErrors=_interopRequireDefault(__webpack_require__(2572));var _NotAllowedInput=_interopRequireDefault(__webpack_require__(2497));var _SelectWrapper=_interopRequireDefault(__webpack_require__(2526));var _WysiwygWithErrors=_interopRequireDefault(__webpack_require__(2596));var _InputUID=_interopRequireDefault(__webpack_require__(2600));var _utils2=__webpack_require__(2613);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var getInputType=function getInputType(){var type=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';switch((0,_lodash.toLower)(type)){case'boolean':return'bool';case'biginteger':return'text';case'decimal':case'float':case'integer':return'number';case'date':case'datetime':case'time':return type;case'email':return'email';case'enumeration':return'select';case'password':return'password';case'string':return'text';case'text':return'textarea';case'media':case'file':case'files':return'media';case'json':return'json';case'wysiwyg':case'WYSIWYG':case'richtext':return'wysiwyg';case'uid':return'uid';default:return type||'text';}};var validationsToOmit=['type','model','via','collection','default','plugin','enum','regex'];function Inputs(_ref){var allowedFields=_ref.allowedFields,autoFocus=_ref.autoFocus,componentUid=_ref.componentUid,isCreatingEntry=_ref.isCreatingEntry,keys=_ref.keys,layout=_ref.layout,name=_ref.name,onBlur=_ref.onBlur,formErrors=_ref.formErrors,onChange=_ref.onChange,readableFields=_ref.readableFields,value=_ref.value;var _useStrapi=(0,_strapiHelperPlugin.useStrapi)(),fieldApi=_useStrapi.strapi.fieldApi;var _useEditView=(0,_useEditView2["default"])(),currentContentTypeLayout=_useEditView.layout;var attribute=(0,_react.useMemo)(function(){return(0,_lodash.get)(layout,['schema','attributes',name],{});},[layout,name]);var metadatas=(0,_react.useMemo)(function(){return(0,_lodash.get)(layout,['metadatas',name,'edit'],{});},[layout,name]);var disabled=(0,_react.useMemo)(function(){return!(0,_lodash.get)(metadatas,'editable',true);},[metadatas]);var type=(0,_react.useMemo)(function(){return(0,_lodash.get)(attribute,'type',null);},[attribute]);var regexpString=(0,_react.useMemo)(function(){return(0,_lodash.get)(attribute,'regex',null);},[attribute]);var temporaryErrorIdUntilBuffetjsSupportsFormattedMessage='app.utils.defaultMessage';var errorId=(0,_react.useMemo)(function(){return(0,_lodash.get)(formErrors,[keys,'id'],temporaryErrorIdUntilBuffetjsSupportsFormattedMessage);},[formErrors,keys]);var fieldName=(0,_react.useMemo)(function(){return(0,_utils.getFieldName)(keys);},[keys]);var isChildOfDynamicZone=(0,_react.useMemo)(function(){var attributes=(0,_lodash.get)(currentContentTypeLayout,['schema','attributes'],{});var foundAttributeType=(0,_lodash.get)(attributes,[fieldName[0],'type'],null);return foundAttributeType==='dynamiczone';},[currentContentTypeLayout,fieldName]);var validations=(0,_react.useMemo)(function(){return(0,_lodash.omit)(attribute,validationsToOmit);},[attribute]);var isRequired=(0,_react.useMemo)(function(){return(0,_lodash.get)(validations,['required'],false);},[validations]);var inputType=(0,_react.useMemo)(function(){return getInputType(type);},[type]);var inputValue=(0,_react.useMemo)(function(){// Fix for input file multipe
if(type==='media'&&!value){return[];}return value;},[type,value]);var step=(0,_react.useMemo)(function(){var step;if(type==='float'||type==='decimal'){step=0.01;}else if(type==='time'||type==='datetime'){step=30;}else{step=1;}return step;},[type]);var isMultiple=(0,_react.useMemo)(function(){return(0,_lodash.get)(attribute,'multiple',false);},[attribute]);var isUserAllowedToEditField=(0,_react.useMemo)(function(){var joinedName=fieldName.join('.');if(allowedFields.includes(joinedName)){return true;}if(isChildOfDynamicZone){return allowedFields.includes(fieldName[0]);}var isChildOfComponent=fieldName.length>1;if(isChildOfComponent){var parentFieldName=(0,_lodash.take)(fieldName,fieldName.length-1).join('.');return allowedFields.includes(parentFieldName);}return false;},[allowedFields,fieldName,isChildOfDynamicZone]);var isUserAllowedToReadField=(0,_react.useMemo)(function(){var joinedName=fieldName.join('.');if(readableFields.includes(joinedName)){return true;}if(isChildOfDynamicZone){return readableFields.includes(fieldName[0]);}var isChildOfComponent=fieldName.length>1;if(isChildOfComponent){var parentFieldName=(0,_lodash.take)(fieldName,fieldName.length-1).join('.');return readableFields.includes(parentFieldName);}return false;},[readableFields,fieldName,isChildOfDynamicZone]);var shouldDisplayNotAllowedInput=(0,_react.useMemo)(function(){return isUserAllowedToReadField||isUserAllowedToEditField;},[isUserAllowedToEditField,isUserAllowedToReadField]);var shouldDisableField=(0,_react.useMemo)(function(){if(!isCreatingEntry){var doesNotHaveRight=isUserAllowedToReadField&&!isUserAllowedToEditField;if(doesNotHaveRight){return true;}return disabled;}return disabled;},[disabled,isCreatingEntry,isUserAllowedToEditField,isUserAllowedToReadField]);var options=(0,_react.useMemo)(function(){return(0,_lodash.get)(attribute,'enum',[]).map(function(v){return/*#__PURE__*/_react["default"].createElement("option",{key:v,value:v},v);});},[attribute]);var otherFields=(0,_react.useMemo)(function(){return fieldApi.getFields();},[fieldApi]);if(regexpString){var regexp=new RegExp(regexpString);if(regexp){validations.regex=regexp;}}var description=metadatas.description,visible=metadatas.visible;if(visible===false){return null;}if(!shouldDisplayNotAllowedInput){return/*#__PURE__*/_react["default"].createElement(_NotAllowedInput["default"],{label:metadatas.label});}if(type==='relation'){return/*#__PURE__*/_react["default"].createElement("div",{key:keys},/*#__PURE__*/_react["default"].createElement(_SelectWrapper["default"],(0,_extends2["default"])({},metadatas,{componentUid:componentUid,isUserAllowedToEditField:isUserAllowedToEditField,isUserAllowedToReadField:isUserAllowedToReadField,name:keys,plugin:attribute.plugin,relationType:attribute.relationType,targetModel:attribute.targetModel,value:value})));}var enumOptions=[/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"components.InputSelect.option.placeholder",key:"__enum_option_null"},function(msg){return/*#__PURE__*/_react["default"].createElement("option",{disabled:isRequired,hidden:isRequired,value:""},msg);})].concat((0,_toConsumableArray2["default"])(options));return/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:errorId,defaultMessage:errorId},function(error){return/*#__PURE__*/_react["default"].createElement(_custom.Inputs,(0,_extends2["default"])({},metadatas,{autoComplete:"new-password",autoFocus:autoFocus,disabled:shouldDisableField,error:(0,_lodash.isEmpty)(error)||errorId===temporaryErrorIdUntilBuffetjsSupportsFormattedMessage?null:error,inputDescription:description,description:description,contentTypeUID:layout.uid,customInputs:_objectSpread({json:_InputJSONWithErrors["default"],wysiwyg:_WysiwygWithErrors["default"],uid:_InputUID["default"]},otherFields),multiple:isMultiple,attribute:attribute,name:keys,onBlur:onBlur,onChange:onChange,options:enumOptions,step:step,type:inputType,validations:validations,value:inputValue,withDefaultValue:false}));});}Inputs.defaultProps={autoFocus:false,componentUid:null,formErrors:{},onBlur:null,value:null};Inputs.propTypes={allowedFields:_propTypes["default"].array.isRequired,autoFocus:_propTypes["default"].bool,componentUid:_propTypes["default"].string,keys:_propTypes["default"].string.isRequired,layout:_propTypes["default"].object.isRequired,isCreatingEntry:_propTypes["default"].bool.isRequired,formErrors:_propTypes["default"].object,name:_propTypes["default"].string.isRequired,onBlur:_propTypes["default"].func,onChange:_propTypes["default"].func.isRequired,readableFields:_propTypes["default"].array.isRequired,value:_propTypes["default"].any};var Memoized=/*#__PURE__*/(0,_react.memo)(Inputs,_reactFastCompare["default"]);var _default=(0,_utils2.connect)(Memoized,_utils2.select);exports["default"]=_default;

/***/ }),

/***/ 2521:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=exports.EditView=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _slicedToArray2=_interopRequireDefault(__webpack_require__(16));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(9);var _reactRouterDom=__webpack_require__(26);var _strapiHelperPlugin=__webpack_require__(8);var _pluginId=_interopRequireDefault(__webpack_require__(113));var _permissions=_interopRequireDefault(__webpack_require__(282));var _utils=__webpack_require__(2490);var _Container=_interopRequireDefault(__webpack_require__(2489));var _DynamicZone=_interopRequireDefault(__webpack_require__(2568));var _FormWrapper=_interopRequireDefault(__webpack_require__(2644));var _FieldComponent=_interopRequireDefault(__webpack_require__(2496));var _Inputs=_interopRequireDefault(__webpack_require__(2511));var _SelectWrapper=_interopRequireDefault(__webpack_require__(2526));var _getComponents=_interopRequireDefault(__webpack_require__(2508));var _EditViewDataManagerProvider=_interopRequireDefault(__webpack_require__(2645));var _EditViewProvider=_interopRequireDefault(__webpack_require__(2656));var _Header=_interopRequireDefault(__webpack_require__(2657));var _createAttributesLayout=_interopRequireDefault(__webpack_require__(2658));var _components=__webpack_require__(2659);var _init=_interopRequireDefault(__webpack_require__(2660));var _reducer=_interopRequireWildcard(__webpack_require__(2661));/* eslint-disable  react/no-array-index-key */var EditView=function EditView(_ref){var components=_ref.components,currentEnvironment=_ref.currentEnvironment,deleteLayout=_ref.deleteLayout,layouts=_ref.layouts,plugins=_ref.plugins,slug=_ref.slug;var formatLayoutRef=(0,_react.useRef)();formatLayoutRef.current=_createAttributesLayout["default"];var _useHistory=(0,_reactRouterDom.useHistory)(),goBack=_useHistory.goBack;// Retrieve the search and the pathname
var _useLocation=(0,_reactRouterDom.useLocation)(),pathname=_useLocation.pathname;var _useRouteMatch=(0,_reactRouterDom.useRouteMatch)('/plugins/content-manager/:contentType'),contentType=_useRouteMatch.params.contentType;var viewPermissions=(0,_react.useMemo)(function(){return(0,_utils.generatePermissionsObject)(slug);},[slug]);var _useUserPermissions=(0,_strapiHelperPlugin.useUserPermissions)(viewPermissions),allowedActions=_useUserPermissions.allowedActions;var isSingleType=(0,_react.useMemo)(function(){return contentType==='singleType';},[contentType]);var _useReducer=(0,_react.useReducer)(_reducer["default"],_reducer.initialState,function(){return(0,_init["default"])(_reducer.initialState);}),_useReducer2=(0,_slicedToArray2["default"])(_useReducer,2),_useReducer2$=_useReducer2[0],formattedContentTypeLayout=_useReducer2$.formattedContentTypeLayout,isDraggingComponent=_useReducer2$.isDraggingComponent,dispatch=_useReducer2[1];var allLayoutData=(0,_react.useMemo)(function(){return(0,_lodash.get)(layouts,[slug],{});},[layouts,slug]);var currentContentTypeLayoutData=(0,_react.useMemo)(function(){return(0,_lodash.get)(allLayoutData,['contentType'],{});},[allLayoutData]);var currentContentTypeLayout=(0,_react.useMemo)(function(){return(0,_lodash.get)(currentContentTypeLayoutData,['layouts','edit'],[]);},[currentContentTypeLayoutData]);var currentContentTypeLayoutRelations=(0,_react.useMemo)(function(){return(0,_lodash.get)(currentContentTypeLayoutData,['layouts','editRelations'],[]);},[currentContentTypeLayoutData]);var currentContentTypeSchema=(0,_react.useMemo)(function(){return(0,_lodash.get)(currentContentTypeLayoutData,['schema'],{});},[currentContentTypeLayoutData]);var getFieldMetas=(0,_react.useCallback)(function(fieldName){return(0,_lodash.get)(currentContentTypeLayoutData,['metadatas',fieldName,'edit'],{});},[currentContentTypeLayoutData]);var getField=(0,_react.useCallback)(function(fieldName){return(0,_lodash.get)(currentContentTypeSchema,['attributes',fieldName],{});},[currentContentTypeSchema]);var getFieldType=(0,_react.useCallback)(function(fieldName){return(0,_lodash.get)(getField(fieldName),['type'],'');},[getField]);var getFieldComponentUid=(0,_react.useCallback)(function(fieldName){return(0,_lodash.get)(getField(fieldName),['component'],'');},[getField]);// Check if a block is a dynamic zone
var isDynamicZone=(0,_react.useCallback)(function(block){return block.every(function(subBlock){return subBlock.every(function(obj){return getFieldType(obj.name)==='dynamiczone';});});},[getFieldType]);(0,_react.useEffect)(function(){// Force state to be cleared when navigation from one entry to another
dispatch({type:'RESET_PROPS'});dispatch({type:'SET_LAYOUT_DATA',formattedContentTypeLayout:formatLayoutRef.current(currentContentTypeLayout,currentContentTypeSchema.attributes)});return function(){return deleteLayout(slug);};// eslint-disable-next-line react-hooks/exhaustive-deps
},[currentContentTypeLayout,currentContentTypeSchema.attributes]);return/*#__PURE__*/_react["default"].createElement(_EditViewProvider["default"],{allowedActions:allowedActions,allLayoutData:allLayoutData,components:components,layout:currentContentTypeLayoutData,isDraggingComponent:isDraggingComponent,isSingleType:isSingleType,setIsDraggingComponent:function setIsDraggingComponent(){dispatch({type:'SET_IS_DRAGGING_COMPONENT'});},unsetIsDraggingComponent:function unsetIsDraggingComponent(){dispatch({type:'UNSET_IS_DRAGGING_COMPONENT'});}},/*#__PURE__*/_react["default"].createElement(_EditViewDataManagerProvider["default"],{allLayoutData:allLayoutData,redirectToPreviousPage:goBack,isSingleType:isSingleType,slug:slug},/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.BackHeader,{onClick:goBack}),/*#__PURE__*/_react["default"].createElement(_Container["default"],{className:"container-fluid"},/*#__PURE__*/_react["default"].createElement(_Header["default"],null),/*#__PURE__*/_react["default"].createElement("div",{className:"row",style:{paddingTop:3}},/*#__PURE__*/_react["default"].createElement("div",{className:"col-md-12 col-lg-9",style:{marginBottom:13}},formattedContentTypeLayout.map(function(block,blockIndex){if(isDynamicZone(block)){var name=block[0][0].name;var _getField=getField(name),max=_getField.max,min=_getField.min;return/*#__PURE__*/_react["default"].createElement(_DynamicZone["default"],{key:blockIndex,name:name,max:max,min:min});}return/*#__PURE__*/_react["default"].createElement(_FormWrapper["default"],{key:blockIndex},block.map(function(fieldsBlock,fieldsBlockIndex){return/*#__PURE__*/_react["default"].createElement("div",{className:"row",key:fieldsBlockIndex},fieldsBlock.map(function(_ref2,fieldIndex){var name=_ref2.name,size=_ref2.size;var isComponent=getFieldType(name)==='component';if(isComponent){var componentUid=getFieldComponentUid(name);var isRepeatable=(0,_lodash.get)(getField(name),'repeatable',false);var _getField2=getField(name),_max=_getField2.max,_min=_getField2.min;var label=(0,_lodash.get)(getFieldMetas(name),'label',componentUid);return/*#__PURE__*/_react["default"].createElement(_FieldComponent["default"],{key:componentUid,componentUid:componentUid,isRepeatable:isRepeatable,label:label,max:_max,min:_min,name:name});}return/*#__PURE__*/_react["default"].createElement("div",{className:"col-".concat(size),key:name},/*#__PURE__*/_react["default"].createElement(_Inputs["default"],{autoFocus:blockIndex===0&&fieldsBlockIndex===0&&fieldIndex===0,keys:name,layout:currentContentTypeLayoutData,name:name}));}));}));})),/*#__PURE__*/_react["default"].createElement("div",{className:"col-md-12 col-lg-3"},currentContentTypeLayoutRelations.length>0&&/*#__PURE__*/_react["default"].createElement(_components.SubWrapper,{style:{padding:'0 20px 1px',marginBottom:'25px'}},/*#__PURE__*/_react["default"].createElement("div",{style:{paddingTop:'22px'}},currentContentTypeLayoutRelations.map(function(relationName){var relation=(0,_lodash.get)(currentContentTypeLayoutData,['schema','attributes',relationName],{});var relationMetas=(0,_lodash.get)(currentContentTypeLayoutData,['metadatas',relationName,'edit'],{});return/*#__PURE__*/_react["default"].createElement(_SelectWrapper["default"],(0,_extends2["default"])({},relation,relationMetas,{key:relationName,name:relationName,relationsType:relation.relationType}));}))),/*#__PURE__*/_react["default"].createElement(_components.LinkWrapper,null,/*#__PURE__*/_react["default"].createElement("ul",null,/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.CheckPermissions,{permissions:isSingleType?_permissions["default"].singleTypesConfigurations:_permissions["default"].collectionTypesConfigurations},/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.LiLink,{message:{id:'app.links.configure-view'},icon:"layout",key:"".concat(_pluginId["default"],".link"),url:"".concat(isSingleType?"".concat(pathname,"/"):'',"ctm-configurations/edit-settings/content-types"),onClick:function onClick(){// emitEvent('willEditContentTypeLayoutFromEditView');
}})),(0,_getComponents["default"])('editView','right.links',plugins,currentEnvironment,slug))))))));};exports.EditView=EditView;EditView.defaultProps={currentEnvironment:'production',emitEvent:function emitEvent(){},plugins:{}};EditView.propTypes={components:_propTypes["default"].array.isRequired,currentEnvironment:_propTypes["default"].string,deleteLayout:_propTypes["default"].func.isRequired,emitEvent:_propTypes["default"].func,layouts:_propTypes["default"].object.isRequired,plugins:_propTypes["default"].object,slug:_propTypes["default"].string.isRequired};var _default=/*#__PURE__*/(0,_react.memo)(EditView);exports["default"]=_default;

/***/ }),

/***/ 2522:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var EditViewContext=/*#__PURE__*/(0,_react.createContext)();var _default=EditViewContext;exports["default"]=_default;

/***/ }),

/***/ 2523:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var EditViewDataManagerContext=/*#__PURE__*/(0,_react.createContext)();var _default=EditViewDataManagerContext;exports["default"]=_default;

/***/ }),

/***/ 2524:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  margin: 0 !important;\n  padding: 0 20px !important;\n\n  ","\n"]);_templateObject=function _templateObject(){return data;};return data;}var hoverStyle="\n  border: 1px solid #aed4fb;\n  background-color: #e6f0fb;\n  > button {\n    :before,\n    :after {\n      background-color: #007eff;\n    }\n    background-color: #aed4fb;\n  }\n\n  > p {\n    color: #007eff;\n  }\n";/* eslint-disable indent */var NonRepeatableWrapper=_styledComponents["default"].div(_templateObject(),function(_ref){var isEmpty=_ref.isEmpty,isFromDynamicZone=_ref.isFromDynamicZone,isReadOnly=_ref.isReadOnly;if(isEmpty){return"\n      position: relative;\n      height: 108px;\n      margin-bottom: 25px !important;\n      background-color: #fafafb;\n      text-align: center;\n      cursor: ".concat(isReadOnly?'not-allowed':'pointer',";\n      border-radius: 2px;\n\n      > button {\n        position: absolute;\n        top: 30px;\n        left: calc(50% - 18px);\n        height: 36px;\n        width: 36px;\n        line-height: 38px;\n        border-radius: 50%;\n        background-color: #f3f4f4;\n        cursor: ").concat(isReadOnly?'not-allowed !important':'pointer',";\n      }\n      border: 1px solid transparent;\n\n      &:hover {\n        ").concat(isReadOnly?'':hoverStyle,";\n      }\n    ");}if(isFromDynamicZone){return"\n      background-color: #fff;\n      padding: 0 10px !important;\n    ";}return"\n    padding-top: 25px !important;\n    background-color: #f7f8f8;\n    margin-bottom: 18px !important;\n  ";});NonRepeatableWrapper.defaultProps={isReadOnly:false};var _default=NonRepeatableWrapper;exports["default"]=_default;

/***/ }),

/***/ 2525:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  height: 36px;\n  width: 36px;\n  background-color: #f3f4f4;\n  border-radius: 50%;\n  text-align: center;\n\n  :focus {\n    outline: 0;\n  }\n\n  :before {\n    ","\n  }\n  :after {\n    ","\n  }\n\n  :before,\n  :after {\n    background-color: #b4b6ba;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var beforeStyle="\n  content: ' ';\n  position: absolute;\n  display: block;\n  width: 14px;\n  height: 2px;\n  left: 11px;\n  top: 17px;\n  bottom: 10px;\n  z-index: 9;\n";var afterStyle="\n  content: ' ';\n  position: absolute;\n  display: block;\n  height: 14px;\n  width: 2px;\n  left: 17px;\n  top: 11px;\n  right: 10px;\n  z-index: 9;\n";var Button=_styledComponents["default"].button(_templateObject(),beforeStyle,afterStyle);var _default=Button;exports["default"]=_default;

/***/ }),

/***/ 2526:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(30));var _defineProperty2=_interopRequireDefault(__webpack_require__(10));var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(29));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(32));var _slicedToArray2=_interopRequireDefault(__webpack_require__(16));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactIntl=__webpack_require__(14);var _reactRouterDom=__webpack_require__(26);var _lodash=__webpack_require__(9);var _strapiHelperPlugin=__webpack_require__(8);var _pluginId=_interopRequireDefault(__webpack_require__(113));var _useDataManager2=_interopRequireDefault(__webpack_require__(2487));var _useEditView2=_interopRequireDefault(__webpack_require__(2491));var _utils=__webpack_require__(2490);var _NotAllowedInput=_interopRequireDefault(__webpack_require__(2497));var _SelectOne=_interopRequireDefault(__webpack_require__(2589));var _SelectMany=_interopRequireDefault(__webpack_require__(2590));var _components=__webpack_require__(2592);var _utils2=__webpack_require__(2593);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function SelectWrapper(_ref){var componentUid=_ref.componentUid,description=_ref.description,editable=_ref.editable,label=_ref.label,isCreatingEntry=_ref.isCreatingEntry,isFieldAllowed=_ref.isFieldAllowed,isFieldReadable=_ref.isFieldReadable,mainField=_ref.mainField,name=_ref.name,relationType=_ref.relationType,slug=_ref.slug,targetModel=_ref.targetModel,placeholder=_ref.placeholder;// Disable the input in case of a polymorphic relation
var isMorph=relationType.toLowerCase().includes('morph');var _useDataManager=(0,_useDataManager2["default"])(),_addRelation=_useDataManager.addRelation,modifiedData=_useDataManager.modifiedData,moveRelation=_useDataManager.moveRelation,_onChange=_useDataManager.onChange,onRemoveRelation=_useDataManager.onRemoveRelation;var _useEditView=(0,_useEditView2["default"])(),isDraggingComponent=_useEditView.isDraggingComponent;// This is needed for making requests when used in a component
var fieldName=(0,_react.useMemo)(function(){var fieldNameArray=(0,_utils.getFieldName)(name);return fieldNameArray[fieldNameArray.length-1];},[name]);var _useLocation=(0,_reactRouterDom.useLocation)(),pathname=_useLocation.pathname;var value=(0,_lodash.get)(modifiedData,name,null);var _useState=(0,_react.useState)({_contains:'',_limit:20,_start:0}),_useState2=(0,_slicedToArray2["default"])(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=(0,_react.useState)([]),_useState4=(0,_slicedToArray2["default"])(_useState3,2),options=_useState4[0],setOptions=_useState4[1];var _useState5=(0,_react.useState)(true),_useState6=(0,_slicedToArray2["default"])(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var abortController=new AbortController();var signal=abortController.signal;var ref=(0,_react.useRef)();var startRef=(0,_react.useRef)();var filteredOptions=(0,_react.useMemo)(function(){return options.filter(function(option){if(!(0,_lodash.isEmpty)(value)){// SelectMany
if(Array.isArray(value)){return(0,_lodash.findIndex)(value,function(o){return o.id===option.value.id;})===-1;}// SelectOne
return(0,_lodash.get)(value,'id','')!==option.value.id;}return true;});},[options,value]);startRef.current=state._start;ref.current=/*#__PURE__*/(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){var requestUrl,containsKey,_cloneDeep,_contains,restState,params,data,formattedData;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!isMorph){_context.next=3;break;}setIsLoading(false);return _context.abrupt("return");case 3:if(isDraggingComponent){_context.next=21;break;}_context.prev=4;requestUrl="/".concat(_pluginId["default"],"/explorer/").concat(slug,"/relation-list/").concat(fieldName);containsKey="".concat(mainField,"_contains");_cloneDeep=(0,_lodash.cloneDeep)(state),_contains=_cloneDeep._contains,restState=(0,_objectWithoutProperties2["default"])(_cloneDeep,["_contains"]);params=(0,_lodash.isEmpty)(state._contains)?restState:_objectSpread((0,_defineProperty2["default"])({},containsKey,_contains),restState);if(componentUid){(0,_lodash.set)(params,'_component',componentUid);}_context.next=12;return(0,_strapiHelperPlugin.request)(requestUrl,{method:'GET',params:params,signal:signal});case 12:data=_context.sent;formattedData=data.map(function(obj){return{value:obj,label:obj[mainField]};});setOptions(function(prevState){return prevState.concat(formattedData).filter(function(obj,index){var objIndex=prevState.findIndex(function(el){return el.value.id===obj.value.id;});if(objIndex===-1){return true;}return prevState.findIndex(function(el){return el.value.id===obj.value.id;})===index;});});setIsLoading(false);_context.next=21;break;case 18:_context.prev=18;_context.t0=_context["catch"](4);if(_context.t0.code!==20){strapi.notification.error('notification.error');}case 21:case"end":return _context.stop();}}},_callee,null,[[4,18]]);}));(0,_react.useEffect)(function(){if(state._contains!==''){var timer=setTimeout(function(){ref.current();},300);return function(){return clearTimeout(timer);};}if(isFieldAllowed){ref.current();}return function(){abortController.abort();};},[state._contains,isFieldAllowed]);(0,_react.useEffect)(function(){if(state._start!==0){ref.current();}return function(){abortController.abort();};},[state._start]);var onInputChange=function onInputChange(inputValue,_ref3){var action=_ref3.action;if(action==='input-change'){setState(function(prevState){if(prevState._contains===inputValue){return prevState;}return _objectSpread(_objectSpread({},prevState),{},{_contains:inputValue,_start:0});});}return inputValue;};var onMenuScrollToBottom=function onMenuScrollToBottom(){setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{_start:prevState._start+20});});};var isSingle=['oneWay','oneToOne','manyToOne','oneToManyMorph','oneToOneMorph'].includes(relationType);var to="/plugins/".concat(_pluginId["default"],"/collectionType/").concat(targetModel,"/").concat(value?value.id:null);var link=value===null||value===undefined||['plugins::users-permissions.role','plugins::users-permissions.permission'].includes(targetModel)?null:/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Link,{to:{pathname:to,state:{from:pathname}}},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"content-manager.containers.Edit.seeDetails"}));var Component=isSingle?_SelectOne["default"]:_SelectMany["default"];var associationsLength=(0,_lodash.isArray)(value)?value.length:0;var customStyles={option:function option(provided){return _objectSpread(_objectSpread({},provided),{},{maxWidth:'100% !important',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap'});}};var isDisabled=(0,_react.useMemo)(function(){if(isMorph){return true;}if(!isCreatingEntry){return!isFieldAllowed&&isFieldReadable||!editable;}return!editable;},[isMorph,isCreatingEntry,editable]);if(!isFieldAllowed&&isCreatingEntry){return/*#__PURE__*/_react["default"].createElement(_NotAllowedInput["default"],{label:label});}if(!isCreatingEntry&&!isFieldAllowed&&!isFieldReadable){return/*#__PURE__*/_react["default"].createElement(_NotAllowedInput["default"],{label:label});}return/*#__PURE__*/_react["default"].createElement(_components.Wrapper,{className:"form-group"},/*#__PURE__*/_react["default"].createElement(_components.Nav,null,/*#__PURE__*/_react["default"].createElement("div",null,/*#__PURE__*/_react["default"].createElement("label",{htmlFor:name},label,!isSingle&&/*#__PURE__*/_react["default"].createElement("span",{style:{fontWeight:400,fontSize:12}},"\xA0(",associationsLength,")")),isSingle&&link),!(0,_lodash.isEmpty)(description)&&/*#__PURE__*/_react["default"].createElement("p",{className:"description"},description)),/*#__PURE__*/_react["default"].createElement(Component,{addRelation:function addRelation(value){_addRelation({target:{name:name,value:value}});},id:name,isDisabled:isDisabled,isLoading:isLoading,isClearable:true,mainField:mainField,move:moveRelation,name:name,options:filteredOptions,onChange:function onChange(value){_onChange({target:{name:name,value:value?value.value:value}});},onInputChange:onInputChange,onMenuClose:function onMenuClose(){setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{_contains:''});});},onMenuScrollToBottom:onMenuScrollToBottom,onRemove:onRemoveRelation,placeholder:(0,_lodash.isEmpty)(placeholder)?/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".containers.Edit.addAnItem")}):placeholder,styles:customStyles,targetModel:targetModel,value:value}),/*#__PURE__*/_react["default"].createElement("div",{style:{marginBottom:18}}));}SelectWrapper.defaultProps={componentUid:null,editable:true,description:'',label:'',isFieldAllowed:true,placeholder:''};SelectWrapper.propTypes={componentUid:_propTypes["default"].string,editable:_propTypes["default"].bool,description:_propTypes["default"].string,label:_propTypes["default"].string,isCreatingEntry:_propTypes["default"].bool.isRequired,isFieldAllowed:_propTypes["default"].bool,isFieldReadable:_propTypes["default"].bool.isRequired,mainField:_propTypes["default"].string.isRequired,name:_propTypes["default"].string.isRequired,placeholder:_propTypes["default"].string,relationType:_propTypes["default"].string.isRequired,slug:_propTypes["default"].string.isRequired,targetModel:_propTypes["default"].string.isRequired};var Memoized=/*#__PURE__*/(0,_react.memo)(SelectWrapper);var _default=(0,_utils2.connect)(Memoized,_utils2.select);exports["default"]=_default;

/***/ }),

/***/ 2568:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.DynamicZone=exports["default"]=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(16));var _react=_interopRequireWildcard(__webpack_require__(1));var _lodash=__webpack_require__(9);var _reactFastCompare=_interopRequireDefault(__webpack_require__(394));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactIntl=__webpack_require__(14);var _icons=__webpack_require__(49);var _reactFontawesome=__webpack_require__(33);var _pluginId=_interopRequireDefault(__webpack_require__(113));var _useEditView2=_interopRequireDefault(__webpack_require__(2491));var _DynamicComponentCard=_interopRequireDefault(__webpack_require__(2499));var _FieldComponent=_interopRequireDefault(__webpack_require__(2496));var _NotAllowedInput=_interopRequireDefault(__webpack_require__(2497));var _connect=_interopRequireDefault(__webpack_require__(2634));var _select=_interopRequireDefault(__webpack_require__(2635));var _BaselineAlignement=_interopRequireDefault(__webpack_require__(2636));var _Button=_interopRequireDefault(__webpack_require__(2637));var _ComponentsPicker=_interopRequireDefault(__webpack_require__(2638));var _ComponentWrapper=_interopRequireDefault(__webpack_require__(2639));var _DynamicZoneWrapper=_interopRequireDefault(__webpack_require__(2640));var _Label=_interopRequireDefault(__webpack_require__(2641));var _RoundCTA=_interopRequireDefault(__webpack_require__(2642));var _Wrapper=_interopRequireDefault(__webpack_require__(2643));/* eslint-disable react/no-array-index-key */var DynamicZone=function DynamicZone(_ref){var max=_ref.max,min=_ref.min,name=_ref.name,addComponentToDynamicZone=_ref.addComponentToDynamicZone,formErrors=_ref.formErrors,isCreatingEntry=_ref.isCreatingEntry,isFieldAllowed=_ref.isFieldAllowed,isFieldReadable=_ref.isFieldReadable,layout=_ref.layout,moveComponentUp=_ref.moveComponentUp,moveComponentDown=_ref.moveComponentDown,removeComponentFromDynamicZone=_ref.removeComponentFromDynamicZone,dynamicDisplayedComponents=_ref.dynamicDisplayedComponents;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var _useEditView=(0,_useEditView2["default"])(),components=_useEditView.components;var getDynamicComponentSchemaData=(0,_react.useCallback)(function(componentUid){var component=components.find(function(compo){return compo.uid===componentUid;});var schema=component.schema;return schema;},[components]);var getDynamicComponentInfos=(0,_react.useCallback)(function(componentUid){var _getDynamicComponentS=getDynamicComponentSchemaData(componentUid),_getDynamicComponentS2=_getDynamicComponentS.info,icon=_getDynamicComponentS2.icon,name=_getDynamicComponentS2.name;return{icon:icon,name:name};},[getDynamicComponentSchemaData]);var dynamicZoneErrors=(0,_react.useMemo)(function(){return Object.keys(formErrors).filter(function(key){return key===name;}).map(function(key){return formErrors[key];});},[formErrors,name]);var dynamicZoneAvailableComponents=(0,_react.useMemo)(function(){return(0,_lodash.get)(layout,['schema','attributes',name,'components'],[]);},[layout,name]);var metas=(0,_react.useMemo)(function(){return(0,_lodash.get)(layout,['metadatas',name,'edit'],{});},[layout,name]);var dynamicDisplayedComponentsLength=dynamicDisplayedComponents.length;var missingComponentNumber=min-dynamicDisplayedComponentsLength;var hasError=dynamicZoneErrors.length>0;var hasMinError=dynamicZoneErrors.length>0&&(0,_lodash.get)(dynamicZoneErrors,[0,'id'],'').includes('min');var hasRequiredError=hasError&&!hasMinError;var hasMaxError=hasError&&(0,_lodash.get)(dynamicZoneErrors,[0,'id'],'')==='components.Input.error.validation.max';if(!isFieldAllowed&&isCreatingEntry){return/*#__PURE__*/_react["default"].createElement(_BaselineAlignement["default"],null,/*#__PURE__*/_react["default"].createElement(_NotAllowedInput["default"],{label:metas.label,spacerHeight:"3px"}));}if(!isFieldAllowed&&!isFieldReadable&&!isCreatingEntry){return/*#__PURE__*/_react["default"].createElement(_BaselineAlignement["default"],null,/*#__PURE__*/_react["default"].createElement(_NotAllowedInput["default"],{label:metas.label,spacerHeight:"3px"}));}return/*#__PURE__*/_react["default"].createElement(_DynamicZoneWrapper["default"],null,dynamicDisplayedComponentsLength>0&&/*#__PURE__*/_react["default"].createElement(_Label["default"],null,/*#__PURE__*/_react["default"].createElement("p",null,metas.label),/*#__PURE__*/_react["default"].createElement("p",null,metas.description)),/*#__PURE__*/_react["default"].createElement(_ComponentWrapper["default"],null,dynamicDisplayedComponents.map(function(componentUid,index){var showDownIcon=isFieldAllowed&&dynamicDisplayedComponentsLength>0&&index<dynamicDisplayedComponentsLength-1;var showUpIcon=isFieldAllowed&&dynamicDisplayedComponentsLength>0&&index>0;return/*#__PURE__*/_react["default"].createElement("div",{key:index},/*#__PURE__*/_react["default"].createElement("div",{className:"arrow-icons"},showDownIcon&&/*#__PURE__*/_react["default"].createElement(_RoundCTA["default"],{className:"arrow-btn arrow-down",onClick:function onClick(){return moveComponentDown(name,index);}},/*#__PURE__*/_react["default"].createElement(_icons.Arrow,null)),showUpIcon&&/*#__PURE__*/_react["default"].createElement(_RoundCTA["default"],{className:"arrow-btn arrow-up",onClick:function onClick(){return moveComponentUp(name,index);}},/*#__PURE__*/_react["default"].createElement(_icons.Arrow,null))),isFieldAllowed&&/*#__PURE__*/_react["default"].createElement(_RoundCTA["default"],{onClick:function onClick(){return removeComponentFromDynamicZone(name,index);}},/*#__PURE__*/_react["default"].createElement(_reactFontawesome.FontAwesomeIcon,{icon:"trash-alt"})),/*#__PURE__*/_react["default"].createElement(_FieldComponent["default"],{componentUid:componentUid,componentFriendlyName:getDynamicComponentInfos(componentUid).name,icon:getDynamicComponentInfos(componentUid).icon,label:"",name:"".concat(name,".").concat(index),isFromDynamicZone:true}));})),isFieldAllowed?/*#__PURE__*/_react["default"].createElement(_Wrapper["default"],null,/*#__PURE__*/_react["default"].createElement(_Button["default"],{type:"button",hasError:hasError,className:isOpen&&'isOpen',onClick:function onClick(){if(dynamicDisplayedComponentsLength<max){setIsOpen(function(prev){return!prev;});}else{strapi.notification.info("".concat(_pluginId["default"],".components.notification.info.maximum-requirement"));}}}),hasRequiredError&&!isOpen&&!hasMaxError&&/*#__PURE__*/_react["default"].createElement("div",{className:"error-label"},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.DynamicZone.required")})),hasMaxError&&!isOpen&&/*#__PURE__*/_react["default"].createElement("div",{className:"error-label"},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"components.Input.error.validation.max"})),hasMinError&&!isOpen&&/*#__PURE__*/_react["default"].createElement("div",{className:"error-label"},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.DynamicZone.missing").concat(missingComponentNumber>1?'.plural':'.singular'),values:{count:missingComponentNumber}})),/*#__PURE__*/_react["default"].createElement("div",{className:"info"},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.DynamicZone.add-compo"),values:{componentName:name}})),/*#__PURE__*/_react["default"].createElement(_ComponentsPicker["default"],{isOpen:isOpen},/*#__PURE__*/_react["default"].createElement("div",null,/*#__PURE__*/_react["default"].createElement("p",{className:"componentPickerTitle"},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.DynamicZone.pick-compo")})),/*#__PURE__*/_react["default"].createElement("div",{className:"componentsList"},dynamicZoneAvailableComponents.map(function(componentUid){var _getDynamicComponentI=getDynamicComponentInfos(componentUid),icon=_getDynamicComponentI.icon,friendlyName=_getDynamicComponentI.name;return/*#__PURE__*/_react["default"].createElement(_DynamicComponentCard["default"],{key:componentUid,componentUid:componentUid,friendlyName:friendlyName,icon:icon,onClick:function onClick(){setIsOpen(false);var shouldCheckErrors=hasError;addComponentToDynamicZone(name,componentUid,shouldCheckErrors);}});}))))):/*#__PURE__*/_react["default"].createElement(_BaselineAlignement["default"],{top:"9px"}));};exports.DynamicZone=DynamicZone;DynamicZone.defaultProps={dynamicDisplayedComponents:[],max:Infinity,min:-Infinity};DynamicZone.propTypes={addComponentToDynamicZone:_propTypes["default"].func.isRequired,dynamicDisplayedComponents:_propTypes["default"].array,formErrors:_propTypes["default"].object.isRequired,isCreatingEntry:_propTypes["default"].bool.isRequired,isFieldAllowed:_propTypes["default"].bool.isRequired,isFieldReadable:_propTypes["default"].bool.isRequired,layout:_propTypes["default"].object.isRequired,moveComponentUp:_propTypes["default"].func.isRequired,moveComponentDown:_propTypes["default"].func.isRequired,max:_propTypes["default"].number,min:_propTypes["default"].number,name:_propTypes["default"].string.isRequired,removeComponentFromDynamicZone:_propTypes["default"].func.isRequired};var Memoized=/*#__PURE__*/(0,_react.memo)(DynamicZone,_reactFastCompare["default"]);var _default=(0,_connect["default"])(Memoized,_select["default"]);exports["default"]=_default;

/***/ }),

/***/ 2569:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactIntl=__webpack_require__(14);var _pluginId=_interopRequireDefault(__webpack_require__(113));var _useDataManager2=_interopRequireDefault(__webpack_require__(2487));var _NonRepeatableWrapper=_interopRequireDefault(__webpack_require__(2524));var _PlusButton=_interopRequireDefault(__webpack_require__(2525));var _P=_interopRequireDefault(__webpack_require__(2570));var ComponentInitializer=function ComponentInitializer(_ref){var componentUid=_ref.componentUid,isReadOnly=_ref.isReadOnly,name=_ref.name;var _useDataManager=(0,_useDataManager2["default"])(),addNonRepeatableComponentToField=_useDataManager.addNonRepeatableComponentToField;return/*#__PURE__*/_react["default"].createElement(_NonRepeatableWrapper["default"],{isEmpty:true,isReadOnly:isReadOnly},/*#__PURE__*/_react["default"].createElement(_PlusButton["default"],{onClick:function onClick(){if(!isReadOnly){addNonRepeatableComponentToField(name,componentUid);}},type:"button"}),/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.empty-repeatable")},function(msg){return/*#__PURE__*/_react["default"].createElement(_P["default"],{style:{paddingTop:78}},msg);}));};ComponentInitializer.defaultProps={isReadOnly:false,name:''};ComponentInitializer.propTypes={componentUid:_propTypes["default"].string.isRequired,isReadOnly:_propTypes["default"].bool,name:_propTypes["default"].string};var _default=ComponentInitializer;exports["default"]=_default;

/***/ }),

/***/ 2570:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  color: #9ea7b8;\n  font-size: 13px;\n  font-weight: 500;\n"]);_templateObject=function _templateObject(){return data;};return data;}var P=_styledComponents["default"].p(_templateObject());var _default=P;exports["default"]=_default;

/***/ }),

/***/ 2571:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(9);var _NonRepeatableWrapper=_interopRequireDefault(__webpack_require__(2524));var _Inputs=_interopRequireDefault(__webpack_require__(2511));var _FieldComponent=_interopRequireDefault(__webpack_require__(2496));/* eslint-disable react/no-array-index-key */ /* eslint-disable import/no-cycle */var NonRepeatableComponent=function NonRepeatableComponent(_ref){var componentUid=_ref.componentUid,fields=_ref.fields,isFromDynamicZone=_ref.isFromDynamicZone,name=_ref.name,schema=_ref.schema;var getField=function getField(fieldName){return(0,_lodash.get)(schema,['schema','attributes',fieldName],{});};var getMeta=function getMeta(fieldName){return(0,_lodash.get)(schema,['metadatas',fieldName,'edit'],{});};return/*#__PURE__*/_react["default"].createElement(_NonRepeatableWrapper["default"],{isFromDynamicZone:isFromDynamicZone},fields.map(function(fieldRow,key){return/*#__PURE__*/_react["default"].createElement("div",{className:"row",key:key},fieldRow.map(function(field){var currentField=getField(field.name);var isComponent=(0,_lodash.get)(currentField,'type','')==='component';var keys="".concat(name,".").concat(field.name);if(isComponent){var compoUid=currentField.component;var metas=getMeta(field.name);return/*#__PURE__*/_react["default"].createElement(_FieldComponent["default"],{key:field.name,componentUid:compoUid,isRepeatable:currentField.repeatable,label:metas.label,max:currentField.max,min:currentField.min,name:keys});}return/*#__PURE__*/_react["default"].createElement("div",{key:field.name,className:"col-".concat(field.size)},/*#__PURE__*/_react["default"].createElement(_Inputs["default"],{keys:keys,layout:schema,name:field.name,componentUid:componentUid}));}));}));};NonRepeatableComponent.defaultProps={fields:[],isFromDynamicZone:false};NonRepeatableComponent.propTypes={componentUid:_propTypes["default"].string.isRequired,fields:_propTypes["default"].array,isFromDynamicZone:_propTypes["default"].bool,name:_propTypes["default"].string.isRequired,schema:_propTypes["default"].object.isRequired};var _default=NonRepeatableComponent;exports["default"]=_default;

/***/ }),

/***/ 2572:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(29));var _classCallCheck2=_interopRequireDefault(__webpack_require__(19));var _createClass2=_interopRequireDefault(__webpack_require__(20));var _assertThisInitialized2=_interopRequireDefault(__webpack_require__(17));var _inherits2=_interopRequireDefault(__webpack_require__(23));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(24));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(25));var _defineProperty2=_interopRequireDefault(__webpack_require__(10));var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(9);var _classnames=_interopRequireDefault(__webpack_require__(12));var _styles=__webpack_require__(22);var _core=__webpack_require__(11);var _InputJSON=_interopRequireDefault(__webpack_require__(2573));var _Wrapper=_interopRequireDefault(__webpack_require__(2585));function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2["default"])(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2["default"])(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2["default"])(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}var InputJSONWithErrors=/*#__PURE__*/function(_React$Component){(0,_inherits2["default"])(InputJSONWithErrors,_React$Component);var _super=_createSuper(InputJSONWithErrors);function InputJSONWithErrors(){var _this;(0,_classCallCheck2["default"])(this,InputJSONWithErrors);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleChange",function(e){_this.props.onChange(e);});return _this;}(0,_createClass2["default"])(InputJSONWithErrors,[{key:"render",value:function render(){var _this2=this;var _this$props=this.props,autoFocus=_this$props.autoFocus,className=_this$props.className,deactivateErrorHighlight=_this$props.deactivateErrorHighlight,disabled=_this$props.disabled,inputError=_this$props.error,inputClassName=_this$props.inputClassName,inputDescription=_this$props.inputDescription,inputStyle=_this$props.inputStyle,label=_this$props.label,name=_this$props.name,onBlur=_this$props.onBlur,placeholder=_this$props.placeholder,resetProps=_this$props.resetProps,tabIndex=_this$props.tabIndex,validations=_this$props.validations,value=_this$props.value,rest=(0,_objectWithoutProperties2["default"])(_this$props,["autoFocus","className","deactivateErrorHighlight","disabled","error","inputClassName","inputDescription","inputStyle","label","name","onBlur","placeholder","resetProps","tabIndex","validations","value"]);var handleBlur=(0,_lodash.isFunction)(onBlur)?onBlur:this.handleBlur;return/*#__PURE__*/_react["default"].createElement(_core.Error,{inputError:inputError,name:name,type:"text",validations:validations},function(_ref){var canCheck=_ref.canCheck,onBlur=_ref.onBlur,error=_ref.error,dispatch=_ref.dispatch;var hasError=Boolean(error);return/*#__PURE__*/_react["default"].createElement(_Wrapper["default"],{className:"".concat((0,_classnames["default"])(!(0,_lodash.isEmpty)(className)&&className)," ").concat(hasError?'bordered':'')},/*#__PURE__*/_react["default"].createElement(_styles.Label,{htmlFor:name},label),/*#__PURE__*/_react["default"].createElement(_InputJSON["default"],(0,_extends2["default"])({},rest,{autoFocus:autoFocus,className:inputClassName,disabled:disabled,deactivateErrorHighlight:deactivateErrorHighlight,name:name,onBlur:(0,_lodash.isFunction)(handleBlur)?handleBlur:onBlur,onChange:function onChange(e){if(!canCheck){dispatch({type:'SET_CHECK'});}dispatch({type:'SET_ERROR',error:null});_this2.handleChange(e);},placeholder:placeholder,resetProps:resetProps,style:inputStyle,tabIndex:tabIndex,value:value})),!hasError&&inputDescription&&/*#__PURE__*/_react["default"].createElement(_styles.Description,null,inputDescription),hasError&&/*#__PURE__*/_react["default"].createElement(_styles.ErrorMessage,null,error));});}}]);return InputJSONWithErrors;}(_react["default"].Component);InputJSONWithErrors.defaultProps={autoFocus:false,className:'',deactivateErrorHighlight:false,didCheckErrors:false,disabled:false,error:null,inputClassName:'',inputDescription:'',inputStyle:{},label:'',labelClassName:'',labelStyle:{},onBlur:false,placeholder:'',resetProps:false,tabIndex:'0',validations:{},value:null};InputJSONWithErrors.propTypes={autoFocus:_propTypes["default"].bool,className:_propTypes["default"].string,deactivateErrorHighlight:_propTypes["default"].bool,didCheckErrors:_propTypes["default"].bool,disabled:_propTypes["default"].bool,error:_propTypes["default"].string,inputClassName:_propTypes["default"].string,inputDescription:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].func,_propTypes["default"].shape({id:_propTypes["default"].string,params:_propTypes["default"].object})]),inputStyle:_propTypes["default"].object,label:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].func,_propTypes["default"].shape({id:_propTypes["default"].string,params:_propTypes["default"].object})]),labelClassName:_propTypes["default"].string,labelStyle:_propTypes["default"].object,name:_propTypes["default"].string.isRequired,onBlur:_propTypes["default"].oneOfType([_propTypes["default"].bool,_propTypes["default"].func]),onChange:_propTypes["default"].func.isRequired,placeholder:_propTypes["default"].string,resetProps:_propTypes["default"].bool,tabIndex:_propTypes["default"].string,validations:_propTypes["default"].object,value:_propTypes["default"].oneOfType([_propTypes["default"].array,_propTypes["default"].object,_propTypes["default"].bool,_propTypes["default"].string,_propTypes["default"].number])};var _default=InputJSONWithErrors;exports["default"]=_default;

/***/ }),

/***/ 2573:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(19));var _createClass2=_interopRequireDefault(__webpack_require__(20));var _assertThisInitialized2=_interopRequireDefault(__webpack_require__(17));var _inherits2=_interopRequireDefault(__webpack_require__(23));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(24));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(25));var _defineProperty2=_interopRequireDefault(__webpack_require__(10));var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _codemirror=_interopRequireDefault(__webpack_require__(2492));__webpack_require__(2574);__webpack_require__(2575);__webpack_require__(2576);__webpack_require__(2577);__webpack_require__(2578);__webpack_require__(2579);__webpack_require__(2581);var _lodash=__webpack_require__(9);var _jsonlint=_interopRequireDefault(__webpack_require__(2583));var _components=_interopRequireDefault(__webpack_require__(2584));function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2["default"])(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2["default"])(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2["default"])(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}var WAIT=600;var stringify=JSON.stringify;var DEFAULT_THEME='solarized dark';var InputJSON=/*#__PURE__*/function(_React$Component){(0,_inherits2["default"])(InputJSON,_React$Component);var _super=_createSuper(InputJSON);function InputJSON(props){var _this;(0,_classCallCheck2["default"])(this,InputJSON);_this=_super.call(this,props);(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"timer",null);(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"setInitValue",function(){var value=_this.props.value;try{_this.setState({hasInitValue:true});if(value===null)return _this.codeMirror.setValue('');return _this.codeMirror.setValue(stringify(value,null,2));}catch(err){return _this.setState({error:true});}});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"setSize",function(){return _this.codeMirror.setSize('100%','auto');});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getContentAtLine",function(line){return _this.codeMirror.getLine(line);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getEditorOption",function(opt){return _this.codeMirror.getOption(opt);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getValue",function(){return _this.codeMirror.getValue();});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"markSelection",function(_ref){var message=_ref.message;var line=parseInt(message.split(':')[0].split('line ')[1],10)-1;var content=_this.getContentAtLine(line);if(content==='{'){line+=1;content=_this.getContentAtLine(line);}var chEnd=content.length;var chStart=chEnd-(0,_lodash.trimStart)(content,' ').length;var markedText=_this.codeMirror.markText({line:line,ch:chStart},{line:line,ch:chEnd},{className:'colored'});_this.setState({markedText:markedText});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleBlur",function(_ref2){var target=_ref2.target;var _this$props=_this.props,name=_this$props.name,onBlur=_this$props.onBlur;if(target===undefined){// codemirror catches multiple events
onBlur({target:{name:name,type:'json',value:_this.getValue()}});}});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleChange",function(){var hasInitValue=_this.state.hasInitValue;var _this$props2=_this.props,name=_this$props2.name,onChange=_this$props2.onChange;var value=_this.codeMirror.getValue();if(!hasInitValue){_this.setState({hasInitValue:true});// Fix for the input firing on onChange event on mount
return;}if(value===''){value=null;}// Update the parent
onChange({target:{name:name,value:value,type:'json'}});// Remove higlight error
if(_this.state.markedText){_this.state.markedText.clear();_this.setState({markedText:null,error:null});}clearTimeout(_this.timer);_this.timer=setTimeout(function(){return _this.testJSON(_this.codeMirror.getValue());},WAIT);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"testJSON",function(value){try{_jsonlint["default"].parse(value);}catch(err){_this.markSelection(err);}});_this.editor=/*#__PURE__*/_react["default"].createRef();_this.state={error:false,markedText:null};return _this;}(0,_createClass2["default"])(InputJSON,[{key:"componentDidMount",value:function componentDidMount(){// Init codemirror component
this.codeMirror=_codemirror["default"].fromTextArea(this.editor.current,{autoCloseBrackets:true,lineNumbers:true,matchBrackets:true,mode:'application/json',readOnly:this.props.disabled,smartIndent:true,styleSelectedText:true,tabSize:2,theme:DEFAULT_THEME,fontSize:'13px'});this.codeMirror.on('change',this.handleChange);this.codeMirror.on('blur',this.handleBlur);this.setSize();this.setInitValue();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if((0,_lodash.isEmpty)(prevProps.value)&&!(0,_lodash.isEmpty)(this.props.value)&&!this.state.hasInitValue){this.setInitValue();}}},{key:"render",value:function render(){if(this.state.error){return/*#__PURE__*/_react["default"].createElement("div",null,"error json");}return/*#__PURE__*/_react["default"].createElement(_components["default"],{disabled:this.props.disabled},/*#__PURE__*/_react["default"].createElement("textarea",{ref:this.editor,autoComplete:"off",id:this.props.name,defaultValue:""}));}}]);return InputJSON;}(_react["default"].Component);InputJSON.defaultProps={disabled:false,onBlur:function onBlur(){},onChange:function onChange(){},value:null};InputJSON.propTypes={disabled:_propTypes["default"].bool,name:_propTypes["default"].string.isRequired,onBlur:_propTypes["default"].func,onChange:_propTypes["default"].func,value:_propTypes["default"].any};var _default=InputJSON;exports["default"]=_default;

/***/ }),

/***/ 2583:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* Jison generated parser */ /* eslint-disable */var jsonlint=function(){var parser={trace:function trace(){},yy:{},symbols_:{"error":2,"JSONString":3,"STRING":4,"JSONNumber":5,"NUMBER":6,"JSONNullLiteral":7,"NULL":8,"JSONBooleanLiteral":9,"TRUE":10,"FALSE":11,"JSONText":12,"JSONValue":13,"EOF":14,"JSONObject":15,"JSONArray":16,"{":17,"}":18,"JSONMemberList":19,"JSONMember":20,":":21,",":22,"[":23,"]":24,"JSONElementList":25,"$accept":0,"$end":1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:// replace escaped characters with actual character
this.$=yytext.replace(/\\(\\|")/g,"$"+"1").replace(/\\n/g,'\n').replace(/\\r/g,'\r').replace(/\\t/g,'\t').replace(/\\v/g,'\v').replace(/\\f/g,'\f').replace(/\\b/g,'\b');break;case 2:this.$=Number(yytext);break;case 3:this.$=null;break;case 4:this.$=true;break;case 5:this.$=false;break;case 6:return this.$=$$[$0-1];break;case 13:this.$={};break;case 14:this.$=$$[$0-1];break;case 15:this.$=[$$[$0-2],$$[$0]];break;case 16:this.$={};this.$[$$[$0][0]]=$$[$0][1];break;case 17:this.$=$$[$0-2];$$[$0-2][$$[$0][0]]=$$[$0][1];break;case 18:this.$=[];break;case 19:this.$=$$[$0-1];break;case 20:this.$=[$$[$0]];break;case 21:this.$=$$[$0-2];$$[$0-2].push($$[$0]);break;}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function parseError(str,hash){throw new Error(str);},parse:function parse(input){var self=this,stack=[0],vstack=[null],// semantic value stack
lstack=[],// location stack
table=this.table,yytext='',yylineno=0,yyleng=0,recovering=0,TERROR=2,EOF=1;//this.reductionCount = this.shiftCount = 0;
this.lexer.setInput(input);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;if(typeof this.lexer.yylloc=='undefined')this.lexer.yylloc={};var yyloc=this.lexer.yylloc;lstack.push(yyloc);if(typeof this.yy.parseError==='function')this.parseError=this.yy.parseError;function popStack(n){stack.length=stack.length-2*n;vstack.length=vstack.length-n;lstack.length=lstack.length-n;}function lex(){var token;token=self.lexer.lex()||1;// $end = 1
// if token isn't its numeric value, convert
if(typeof token!=='number'){token=self.symbols_[token]||token;}return token;}var symbol,preErrorSymbol,state,action,a,r,yyval={},p,len,newState,expected;while(true){// retreive state number from top of stack
state=stack[stack.length-1];// use default actions if available
if(this.defaultActions[state]){action=this.defaultActions[state];}else{if(symbol==null)symbol=lex();// read action for current state and first input
action=table[state]&&table[state][symbol];}// handle parse error
_handle_error:if(typeof action==='undefined'||!action.length||!action[0]){if(!recovering){// Report error
expected=[];for(p in table[state]){if(this.terminals_[p]&&p>2){expected.push("'"+this.terminals_[p]+"'");}}var errStr='';if(this.lexer.showPosition){errStr='Parse error on line '+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(', ')+", got '"+this.terminals_[symbol]+"'";}else{errStr='Parse error on line '+(yylineno+1)+": Unexpected "+(symbol==1/*EOF*/?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'");}this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected});}// just recovered from another error
if(recovering==3){if(symbol==EOF){throw new Error(errStr||'Parsing halted.');}// discard current lookahead and grab another
yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;symbol=lex();}// try to recover from error
while(1){// check for error recovery rule in this state
if(TERROR.toString()in table[state]){break;}if(state==0){throw new Error(errStr||'Parsing halted.');}popStack(1);state=stack[stack.length-1];}preErrorSymbol=symbol;// save the lookahead token
symbol=TERROR;// insert generic error symbol as new lookahead
state=stack[stack.length-1];action=table[state]&&table[state][TERROR];recovering=3;// allow 3 real symbols to be shifted before reporting a new error
}// this shouldn't happen, unless resolve defaults are off
if(action[0]instanceof Array&&action.length>1){throw new Error('Parse Error: multiple actions possible at state: '+state+', token: '+symbol);}switch(action[0]){case 1:// shift
//this.shiftCount++;
stack.push(symbol);vstack.push(this.lexer.yytext);lstack.push(this.lexer.yylloc);stack.push(action[1]);// push state
symbol=null;if(!preErrorSymbol){// normal execution/no error
yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;if(recovering>0)recovering--;}else{// error just occurred, resume old lookahead f/ before error
symbol=preErrorSymbol;preErrorSymbol=null;}break;case 2:// reduce
//this.reductionCount++;
len=this.productions_[action[1]][1];// perform semantic action
yyval.$=vstack[vstack.length-len];// default to $$ = $1
// default location, uses first token for firsts, last for lasts
yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column};r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if(typeof r!=='undefined'){return r;}// pop off stack
if(len){stack=stack.slice(0,-1*len*2);vstack=vstack.slice(0,-1*len);lstack=lstack.slice(0,-1*len);}stack.push(this.productions_[action[1]][0]);// push nonterminal (reduce)
vstack.push(yyval.$);lstack.push(yyval._$);// goto new state = table[STATE][NONTERMINAL]
newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:// accept
return true;}}return true;}};/* Jison generated lexer */var lexer=function(){var lexer={EOF:1,parseError:function parseError(str,hash){if(this.yy.parseError){this.yy.parseError(str,hash);}else{throw new Error(str);}},setInput:function setInput(input){this._input=input;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match='';this.conditionStack=['INITIAL'];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};return this;},input:function input(){var ch=this._input[0];this.yytext+=ch;this.yyleng++;this.match+=ch;this.matched+=ch;var lines=ch.match(/\n/);if(lines)this.yylineno++;this._input=this._input.slice(1);return ch;},unput:function unput(ch){this._input=ch+this._input;return this;},more:function more(){this._more=true;return this;},less:function less(n){this._input=this.match.slice(n)+this._input;},pastInput:function pastInput(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?'...':'')+past.substr(-20).replace(/\n/g,"");},upcomingInput:function upcomingInput(){var next=this.match;if(next.length<20){next+=this._input.substr(0,20-next.length);}return(next.substr(0,20)+(next.length>20?'...':'')).replace(/\n/g,"");},showPosition:function showPosition(){var pre=this.pastInput();var c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^";},next:function next(){if(this.done){return this.EOF;}if(!this._input)this.done=true;var token,match,tempMatch,index,col,lines;if(!this._more){this.yytext='';this.match='';}var rules=this._currentRules();for(var i=0;i<rules.length;i++){tempMatch=this._input.match(this.rules[rules[i]]);if(tempMatch&&(!match||tempMatch[0].length>match[0].length)){match=tempMatch;index=i;if(!this.options.flex)break;}}if(match){lines=match[0].match(/\n.*/g);if(lines)this.yylineno+=lines.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-1:this.yylloc.last_column+match[0].length};this.yytext+=match[0];this.match+=match[0];this.yyleng=this.yytext.length;this._more=false;this._input=this._input.slice(match[0].length);this.matched+=match[0];token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input)this.done=false;if(token)return token;else return;}if(this._input===""){return this.EOF;}else{this.parseError('Lexical error on line '+(this.yylineno+1)+'. Unrecognized text.\n'+this.showPosition(),{text:"",token:null,line:this.yylineno});}},lex:function lex(){var r=this.next();if(typeof r!=='undefined'){return r;}else{return this.lex();}},begin:function begin(condition){this.conditionStack.push(condition);},popState:function popState(){return this.conditionStack.pop();},_currentRules:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;},topState:function topState(){return this.conditionStack[this.conditionStack.length-2];},pushState:function begin(condition){this.begin(condition);}};lexer.options={};lexer.performAction=function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){var YYSTATE=YY_START;switch($avoiding_name_collisions){case 0:/* skip whitespace */break;case 1:return 6;break;case 2:yy_.yytext=yy_.yytext.substr(1,yy_.yyleng-2);return 4;break;case 3:return 17;break;case 4:return 18;break;case 5:return 23;break;case 6:return 24;break;case 7:return 22;break;case 8:return 21;break;case 9:return 10;break;case 10:return 11;break;case 11:return 8;break;case 12:return 14;break;case 13:return'INVALID';break;}};lexer.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/];lexer.conditions={"INITIAL":{"rules":[0,1,2,3,4,5,6,7,8,9,10,11,12,13],"inclusive":true}};;return lexer;}();parser.lexer=lexer;return parser;}();if(true){exports.parser=jsonlint;exports.parse=function(){return jsonlint.parse.apply(jsonlint,arguments);};exports.main=function commonjsMain(args){if(!args[1]){throw new Error('Usage: '+args[0]+' FILE');}};}

/***/ }),

/***/ 2584:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  margin-bottom: 3px;\n  line-height: 18px;\n  cursor: ",";\n\n  .CodeMirror {\n    font-size: 13px !important;\n  }\n\n  > div {\n    border-radius: 3px;\n\n    > div:last-of-type {\n      min-height: 315px;\n      max-height: 635px;\n      font-weight: 500;\n      font-size: 1.3rem !important;\n    }\n  }\n\n  .colored {\n    background-color: yellow;\n    color: black !important;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=_styledComponents["default"].div(_templateObject(),function(_ref){var disabled=_ref.disabled;return disabled?'not-allowed':'initial';});var _default=Wrapper;exports["default"]=_default;

/***/ }),

/***/ 2585:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding-bottom: 30px;\n\n  label {\n    margin-bottom: 1rem;\n    line-height: 18px;\n    display: block;\n  }\n  > div {\n    border-radius: 4px;\n    border: 1px solid #090300;\n  }\n  &.bordered {\n    > div {\n      border-color: red;\n    }\n  }\n  > p {\n    width: 100%;\n    padding-top: 14px;\n    font-size: 1.2rem;\n    line-height: normal;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    margin-bottom: -11px;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=_styledComponents["default"].div(_templateObject());var _default=Wrapper;exports["default"]=_default;

/***/ }),

/***/ 2586:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _react=_interopRequireDefault(__webpack_require__(1));var EyeSlashed=function EyeSlashed(props){return/*#__PURE__*/_react["default"].createElement("svg",(0,_extends2["default"])({width:"13",height:"13",xmlns:"http://www.w3.org/2000/svg"},props),/*#__PURE__*/_react["default"].createElement("path",{d:"M4.026 7.427l.566-1a3.15 3.15 0 01-.987-1.128 3.069 3.069 0 01-.355-1.44c0-.572.148-1.104.443-1.596-1.108.553-2.03 1.388-2.764 2.504.807 1.22 1.84 2.106 3.097 2.66zm2.822-5.384a.325.325 0 00-.101-.241.34.34 0 00-.247-.1c-.605 0-1.123.212-1.556.635-.433.423-.65.93-.65 1.522 0 .094.034.175.102.24.068.067.15.1.247.1a.34.34 0 00.247-.1.325.325 0 00.101-.24c0-.407.148-.755.443-1.043A1.47 1.47 0 016.5 2.383a.34.34 0 00.247-.099.325.325 0 00.101-.241zM9.482.688a.172.172 0 01-.008.064c-.512.894-1.276 2.234-2.292 4.022a2216.702 2216.702 0 01-2.285 4.015l-.356.63a.228.228 0 01-.203.114c-.058 0-.382-.165-.972-.496a.221.221 0 01-.116-.199c0-.057.106-.262.32-.617a7.524 7.524 0 01-1.912-1.227A8.521 8.521 0 01.145 5.256.87.87 0 010 4.766a.87.87 0 01.145-.489c.74-1.111 1.659-1.988 2.757-2.631A6.992 6.992 0 016.5.68c.43 0 .866.04 1.306.12l.392-.688A.228.228 0 018.4 0c.024 0 .067.014.13.043a4.88 4.88 0 01.465.24c.072.043.148.087.228.132.08.045.127.072.142.082.077.047.116.11.116.191zm.268 3.17c0 .658-.191 1.257-.573 1.799-.382.541-.888.93-1.516 1.167l2.031-3.561c.039.213.058.411.058.596zm3.25.909a.94.94 0 01-.145.49 7.98 7.98 0 01-.79 1.028 7.803 7.803 0 01-2.522 1.894c-.955.449-1.97.673-3.043.673l.537-.936a6.114 6.114 0 002.847-.972 7.393 7.393 0 002.187-2.177 7.34 7.34 0 00-2.045-2.086l.457-.794c.46.302.9.664 1.324 1.085.423.42.772.856 1.048 1.305a.94.94 0 01.145.49z",fill:"#9EA7B8",fillRule:"nonzero"}));};var _default=EyeSlashed;exports["default"]=_default;

/***/ }),

/***/ 2587:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  height: ",";\n"]);_templateObject=function _templateObject(){return data;};return data;}var BaselineAlignement=_styledComponents["default"].div(_templateObject(),function(_ref){var height=_ref.height;return height;});BaselineAlignement.defaultProps={height:'7px'};var _default=BaselineAlignement;exports["default"]=_default;

/***/ }),

/***/ 2588:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  height: 34px;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin-top: 11px;\n  padding-top: 2px;\n  border-radius: 2px;\n  background-color: ",";\n"]);_templateObject=function _templateObject(){return data;};return data;}var Field=_styledComponents["default"].div(_templateObject(),function(_ref){var theme=_ref.theme;return theme.main.colors.mediumGrey;});var _default=Field;exports["default"]=_default;

/***/ }),

/***/ 2589:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);var _interopRequireWildcard=__webpack_require__(5);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(9);var _reactSelect=_interopRequireDefault(__webpack_require__(69));function SelectOne(_ref){var mainField=_ref.mainField,name=_ref.name,isDisabled=_ref.isDisabled,isLoading=_ref.isLoading,onChange=_ref.onChange,onInputChange=_ref.onInputChange,onMenuClose=_ref.onMenuClose,onMenuScrollToBottom=_ref.onMenuScrollToBottom,options=_ref.options,placeholder=_ref.placeholder,styles=_ref.styles,value=_ref.value;return/*#__PURE__*/_react["default"].createElement(_reactSelect["default"],{id:name,isClearable:true,isDisabled:isDisabled,isLoading:isLoading,options:options,onChange:onChange,onInputChange:onInputChange,onMenuClose:onMenuClose,onMenuScrollToBottom:onMenuScrollToBottom,placeholder:placeholder,styles:styles,value:(0,_lodash.isNull)(value)?null:{label:(0,_lodash.get)(value,[mainField],''),value:value}});}SelectOne.defaultProps={value:null};SelectOne.propTypes={isDisabled:_propTypes["default"].bool.isRequired,isLoading:_propTypes["default"].bool.isRequired,mainField:_propTypes["default"].string.isRequired,name:_propTypes["default"].string.isRequired,onChange:_propTypes["default"].func.isRequired,onInputChange:_propTypes["default"].func.isRequired,onMenuClose:_propTypes["default"].func.isRequired,onMenuScrollToBottom:_propTypes["default"].func.isRequired,options:_propTypes["default"].array.isRequired,placeholder:_propTypes["default"].node.isRequired,styles:_propTypes["default"].object.isRequired,value:_propTypes["default"].object};var _default=/*#__PURE__*/(0,_react.memo)(SelectOne);exports["default"]=_default;

/***/ }),

/***/ 2590:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(16));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(9);var _reactDnd=__webpack_require__(122);var _reactSelect=_interopRequireWildcard(__webpack_require__(69));var _ItemTypes=_interopRequireDefault(__webpack_require__(774));var _components=__webpack_require__(395);var _ListItem=_interopRequireDefault(__webpack_require__(2591));function SelectMany(_ref){var addRelation=_ref.addRelation,mainField=_ref.mainField,name=_ref.name,isDisabled=_ref.isDisabled,isLoading=_ref.isLoading,move=_ref.move,onInputChange=_ref.onInputChange,onMenuClose=_ref.onMenuClose,onMenuScrollToBottom=_ref.onMenuScrollToBottom,_onRemove=_ref.onRemove,options=_ref.options,placeholder=_ref.placeholder,styles=_ref.styles,targetModel=_ref.targetModel,value=_ref.value;var _useDrop=(0,_reactDnd.useDrop)({accept:_ItemTypes["default"].RELATION}),_useDrop2=(0,_slicedToArray2["default"])(_useDrop,2),drop=_useDrop2[1];var findRelation=function findRelation(id){var relation=value.filter(function(c){return"".concat(c.id)==="".concat(id);})[0];return{relation:relation,index:value.indexOf(relation)};};var moveRelation=(0,_react.useCallback)(function(id,atIndex){var _findRelation=findRelation(id),index=_findRelation.index;move(index,atIndex,name);},// eslint-disable-next-line react-hooks/exhaustive-deps
[value]);var filterConfig={ignoreCase:true,ignoreAccents:true,trim:false,matchFrom:'any'};return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_reactSelect["default"],{isDisabled:isDisabled,id:name,filterOption:function filterOption(candidate,input){if(!(0,_lodash.isEmpty)(value)){var isSelected=value.findIndex(function(item){return item.id===candidate.value.id;})!==-1;if(isSelected){return false;}}if(input){return(0,_reactSelect.createFilter)(filterConfig)(candidate,input);}return true;},isLoading:isLoading,isMulti:true,isSearchable:true,options:options,onChange:addRelation,onInputChange:onInputChange,onMenuClose:onMenuClose,onMenuScrollToBottom:onMenuScrollToBottom,placeholder:placeholder,styles:styles,value:[]}),/*#__PURE__*/_react["default"].createElement(_components.ListWrapper,{ref:drop},!(0,_lodash.isEmpty)(value)&&/*#__PURE__*/_react["default"].createElement("ul",null,value.map(function(data,index){return/*#__PURE__*/_react["default"].createElement(_ListItem["default"],{key:data.id,data:data,isDisabled:isDisabled,findRelation:findRelation,mainField:mainField,moveRelation:moveRelation,onRemove:function onRemove(){if(!isDisabled){_onRemove("".concat(name,".").concat(index));}},targetModel:targetModel});})),!(0,_lodash.isEmpty)(value)&&value.length>4&&/*#__PURE__*/_react["default"].createElement(_components.ListShadow,null)));}SelectMany.defaultProps={move:function move(){},value:null};SelectMany.propTypes={addRelation:_propTypes["default"].func.isRequired,isDisabled:_propTypes["default"].bool.isRequired,mainField:_propTypes["default"].string.isRequired,move:_propTypes["default"].func,name:_propTypes["default"].string.isRequired,isLoading:_propTypes["default"].bool.isRequired,onInputChange:_propTypes["default"].func.isRequired,onMenuClose:_propTypes["default"].func.isRequired,onMenuScrollToBottom:_propTypes["default"].func.isRequired,onRemove:_propTypes["default"].func.isRequired,options:_propTypes["default"].array.isRequired,placeholder:_propTypes["default"].node.isRequired,styles:_propTypes["default"].object.isRequired,targetModel:_propTypes["default"].string.isRequired,value:_propTypes["default"].array};var _default=/*#__PURE__*/(0,_react.memo)(SelectMany);exports["default"]=_default;

/***/ }),

/***/ 2591:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(16));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactDnd=__webpack_require__(122);var _reactDndHtml5Backend=__webpack_require__(281);var _pluginId=_interopRequireDefault(__webpack_require__(113));var _ItemTypes=_interopRequireDefault(__webpack_require__(774));var _components=__webpack_require__(395);var _Relation=_interopRequireDefault(__webpack_require__(782));function ListItem(_ref){var data=_ref.data,findRelation=_ref.findRelation,isDisabled=_ref.isDisabled,mainField=_ref.mainField,moveRelation=_ref.moveRelation,onRemove=_ref.onRemove,targetModel=_ref.targetModel;var to="/plugins/".concat(_pluginId["default"],"/collectionType/").concat(targetModel,"/").concat(data.id);var originalIndex=findRelation(data.id).index;var _useDrag=(0,_reactDnd.useDrag)({item:{type:_ItemTypes["default"].RELATION,id:data.id,originalIndex:originalIndex,data:data,mainField:mainField},collect:function collect(monitor){return{isDragging:monitor.isDragging()};}}),_useDrag2=(0,_slicedToArray2["default"])(_useDrag,3),isDragging=_useDrag2[0].isDragging,drag=_useDrag2[1],preview=_useDrag2[2];var _useDrop=(0,_reactDnd.useDrop)({accept:_ItemTypes["default"].RELATION,canDrop:function canDrop(){return false;},hover:function hover(_ref2){var draggedId=_ref2.id;if(draggedId!==data.id){var _findRelation=findRelation(data.id),overIndex=_findRelation.index;moveRelation(draggedId,overIndex);}}}),_useDrop2=(0,_slicedToArray2["default"])(_useDrop,2),drop=_useDrop2[1];(0,_react.useEffect)(function(){preview((0,_reactDndHtml5Backend.getEmptyImage)(),{captureDraggingState:true});},[preview]);var opacity=isDragging?0.2:1;return/*#__PURE__*/_react["default"].createElement(_components.Li,{ref:function ref(node){if(!isDisabled){drag(drop(node));}},style:{opacity:opacity}},/*#__PURE__*/_react["default"].createElement(_Relation["default"],{mainField:mainField,onRemove:onRemove,data:data,to:to,isDisabled:isDisabled}));}ListItem.defaultProps={findRelation:function findRelation(){},moveRelation:function moveRelation(){},onRemove:function onRemove(){},targetModel:''};ListItem.propTypes={data:_propTypes["default"].object.isRequired,findRelation:_propTypes["default"].func,isDisabled:_propTypes["default"].bool.isRequired,mainField:_propTypes["default"].string.isRequired,moveRelation:_propTypes["default"].func,onRemove:_propTypes["default"].func,targetModel:_propTypes["default"].string};var _default=/*#__PURE__*/(0,_react.memo)(ListItem);exports["default"]=_default;

/***/ }),

/***/ 2592:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.Wrapper=exports.Nav=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject2(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  > div {\n    display: flex;\n\n    justify-content: space-between;\n\n    a {\n      color: #007eff !important;\n      font-size: 1.3rem;\n\n      &:hover {\n        text-decoration: underline !important;\n        cursor: pointer;\n      }\n    }\n  }\n  .description {\n    color: #9ea7b8;\n    font-family: 'Lato';\n    font-size: 1.2rem;\n    margin-top: -5px;\n    max-width: 100%;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  margin-bottom: 27px;\n  label {\n    width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-size: 1.3rem;\n    font-weight: 500;\n  }\n\n  nav + div {\n    height: 34px;\n    background-color: white;\n    margin-top: 5px;\n    > div {\n      min-height: 34px;\n      height: 100%;\n      border: 1px solid #e3e9f3;\n      border-radius: 3px;\n      box-shadow: 0 1px 1px 0 rgba(104, 118, 142, 0.05);\n      flex-wrap: initial;\n      padding: 0 10px;\n\n      /* Arrow */\n      &:before {\n        content: '\f0d7';\n        position: absolute;\n        top: 5px;\n        right: 10px;\n        font-family: 'FontAwesome';\n        font-size: 14px;\n        font-weight: 800;\n        color: #aaa;\n      }\n      > div {\n        padding: 0;\n        &:first-of-type {\n          /* Placeholder */\n          > div span {\n            color: #aaa;\n          }\n        }\n      }\n      div:last-of-type {\n        span {\n          display: none;\n          & + div {\n            display: none;\n          }\n        }\n        svg {\n          width: 15px;\n          margin-right: 6px;\n        }\n      }\n      span {\n        font-size: 13px;\n        line-height: 34px;\n        color: #333740;\n      }\n      :hover {\n        cursor: pointer;\n        border-color: #e3e9f3;\n        &:before {\n          color: #666;\n        }\n      }\n    }\n    span[aria-live='polite'] + div {\n      &:before {\n        transform: rotate(180deg);\n        top: 4px;\n      }\n      & + div {\n        z-index: 2;\n        height: fit-content;\n        padding: 0;\n        margin-top: -2px;\n        border-top-left-radius: 0;\n        border-top-right-radius: 0;\n        &:before {\n          content: '';\n        }\n        div {\n          width: 100%;\n        }\n        > div {\n          max-height: 200px;\n          height: fit-content;\n          div {\n            height: 36px;\n            cursor: pointer;\n          }\n        }\n      }\n    }\n  }\n"],["\n  position: relative;\n  margin-bottom: 27px;\n  label {\n    width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-size: 1.3rem;\n    font-weight: 500;\n  }\n\n  nav + div {\n    height: 34px;\n    background-color: white;\n    margin-top: 5px;\n    > div {\n      min-height: 34px;\n      height: 100%;\n      border: 1px solid #e3e9f3;\n      border-radius: 3px;\n      box-shadow: 0 1px 1px 0 rgba(104, 118, 142, 0.05);\n      flex-wrap: initial;\n      padding: 0 10px;\n\n      /* Arrow */\n      &:before {\n        content: '\\f0d7';\n        position: absolute;\n        top: 5px;\n        right: 10px;\n        font-family: 'FontAwesome';\n        font-size: 14px;\n        font-weight: 800;\n        color: #aaa;\n      }\n      > div {\n        padding: 0;\n        &:first-of-type {\n          /* Placeholder */\n          > div span {\n            color: #aaa;\n          }\n        }\n      }\n      div:last-of-type {\n        span {\n          display: none;\n          & + div {\n            display: none;\n          }\n        }\n        svg {\n          width: 15px;\n          margin-right: 6px;\n        }\n      }\n      span {\n        font-size: 13px;\n        line-height: 34px;\n        color: #333740;\n      }\n      :hover {\n        cursor: pointer;\n        border-color: #e3e9f3;\n        &:before {\n          color: #666;\n        }\n      }\n    }\n    span[aria-live='polite'] + div {\n      &:before {\n        transform: rotate(180deg);\n        top: 4px;\n      }\n      & + div {\n        z-index: 2;\n        height: fit-content;\n        padding: 0;\n        margin-top: -2px;\n        border-top-left-radius: 0;\n        border-top-right-radius: 0;\n        &:before {\n          content: '';\n        }\n        div {\n          width: 100%;\n        }\n        > div {\n          max-height: 200px;\n          height: fit-content;\n          div {\n            height: 36px;\n            cursor: pointer;\n          }\n        }\n      }\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=_styledComponents["default"].div(_templateObject());exports.Wrapper=Wrapper;var Nav=_styledComponents["default"].nav(_templateObject2());exports.Nav=Nav;

/***/ }),

/***/ 2593:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"connect",{enumerable:true,get:function get(){return _connect["default"];}});Object.defineProperty(exports,"select",{enumerable:true,get:function get(){return _select["default"];}});var _connect=_interopRequireDefault(__webpack_require__(2594));var _select=_interopRequireDefault(__webpack_require__(2595));

/***/ }),

/***/ 2594:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _react=_interopRequireDefault(__webpack_require__(1));function connect(WrappedComponent,select){return function(props){// eslint-disable-next-line react/prop-types
var selectors=select(props);return/*#__PURE__*/_react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},props,selectors));};}var _default=connect;exports["default"]=_default;

/***/ }),

/***/ 2595:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var _useDataManager2=_interopRequireDefault(__webpack_require__(2487));function useSelect(_ref){var isUserAllowedToEditField=_ref.isUserAllowedToEditField,isUserAllowedToReadField=_ref.isUserAllowedToReadField,name=_ref.name;var _useDataManager=(0,_useDataManager2["default"])(),isCreatingEntry=_useDataManager.isCreatingEntry,createActionAllowedFields=_useDataManager.createActionAllowedFields,readActionAllowedFields=_useDataManager.readActionAllowedFields,slug=_useDataManager.slug,updateActionAllowedFields=_useDataManager.updateActionAllowedFields;var isFieldAllowed=(0,_react.useMemo)(function(){if(isUserAllowedToEditField===true){return true;}var allowedFields=isCreatingEntry?createActionAllowedFields:updateActionAllowedFields;return allowedFields.includes(name);},[isCreatingEntry,createActionAllowedFields,name,isUserAllowedToEditField,updateActionAllowedFields]);var isFieldReadable=(0,_react.useMemo)(function(){if(isUserAllowedToReadField){return true;}var allowedFields=isCreatingEntry?[]:readActionAllowedFields;return allowedFields.includes(name);},[isCreatingEntry,isUserAllowedToReadField,name,readActionAllowedFields]);return{isCreatingEntry:isCreatingEntry,isFieldAllowed:isFieldAllowed,isFieldReadable:isFieldReadable,slug:slug};}var _default=useSelect;exports["default"]=_default;

/***/ }),

/***/ 2596:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(9);var _strapiHelperPlugin=__webpack_require__(8);var _CKEditor=_interopRequireDefault(__webpack_require__(2597));var WysiwygWithErrors=function WysiwygWithErrors(_ref){var inputDescription=_ref.inputDescription,errors=_ref.errors,label=_ref.label,name=_ref.name,noErrorsDescription=_ref.noErrorsDescription,onChange=_ref.onChange,value=_ref.value;var spacer=!(0,_lodash.isEmpty)(inputDescription)?/*#__PURE__*/_react["default"].createElement("div",{style:{height:'.4rem'}}):/*#__PURE__*/_react["default"].createElement("div",null);if(!noErrorsDescription&&!(0,_lodash.isEmpty)(errors)){spacer=/*#__PURE__*/_react["default"].createElement("div",null);}return/*#__PURE__*/_react["default"].createElement("div",{className:"col-12",style:{marginBottom:'1.6rem',fontSize:'1.3rem',fontFamily:'Lato'}},/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.Label,{htmlFor:name,message:label,style:{marginBottom:10}}),/*#__PURE__*/_react["default"].createElement(_CKEditor["default"],{name:name,onChange:onChange,value:value}),/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.InputDescription,{message:inputDescription,style:!(0,_lodash.isEmpty)(inputDescription)?{marginTop:'1.4rem'}:{}}),/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.InputErrors,{errors:!noErrorsDescription&&errors||[],name:name}),spacer);};WysiwygWithErrors.defaultProps={errors:[],label:'',noErrorsDescription:false};WysiwygWithErrors.propTypes={errors:_propTypes["default"].array,inputDescription:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].func,_propTypes["default"].shape({id:_propTypes["default"].string,params:_propTypes["default"].object})]),label:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].func,_propTypes["default"].shape({id:_propTypes["default"].string,params:_propTypes["default"].object})]),name:_propTypes["default"].string.isRequired,noErrorsDescription:_propTypes["default"].bool,onChange:_propTypes["default"].func.isRequired,value:_propTypes["default"].string.isRequired};var _default=WysiwygWithErrors;exports["default"]=_default;

/***/ }),

/***/ 2597:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _ckeditor5React=_interopRequireDefault(__webpack_require__(2598));var _ckeditor5BuildClassic=_interopRequireDefault(__webpack_require__(2599));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  .ck-editor__main {\n    min-height: 200px;\n    > div {\n      min-height: 200px;\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=_styledComponents["default"].div(_templateObject());var configuration={language:'es',toolbar:['heading','|','bold','italic','link','bulletedList','numberedList','|','indent','outdent','|','blockQuote','insertTable','mediaEmbed','undo','redo'],heading:{options:[{model:'paragraph',title:'Paragraph',"class":'ck-heading_paragraph'},{model:'heading1',view:'h1',title:'Heading 1',"class":'ck-heading_heading1'},{model:'heading2',view:'h2',title:'Heading 2',"class":'ck-heading_heading2'},{model:'heading3',view:'h3',title:'Heading 3',"class":'ck-heading_heading3'},{model:'heading4',view:'h4',title:'Heading 4',"class":'ck-heading_heading4'},{model:'heading5',view:'h5',title:'Heading 5',"class":'ck-heading_heading5'}]}};var Editor=function Editor(_ref){var _onChange=_ref.onChange,name=_ref.name,value=_ref.value;return/*#__PURE__*/_react["default"].createElement(Wrapper,null,/*#__PURE__*/_react["default"].createElement(_ckeditor5React["default"],{editor:_ckeditor5BuildClassic["default"],config:configuration,data:value,onChange:function onChange(event,editor){var data=editor.getData();_onChange({target:{name:name,value:data}});}}));};Editor.propTypes={onChange:_propTypes["default"].func.isRequired,name:_propTypes["default"].string.isRequired,value:_propTypes["default"].string.isRequired};var _default=Editor;exports["default"]=_default;

/***/ }),

/***/ 2600:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _defineProperty2=_interopRequireDefault(__webpack_require__(10));var _regenerator=_interopRequireDefault(__webpack_require__(30));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(32));var _slicedToArray2=_interopRequireDefault(__webpack_require__(16));var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(29));var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _icons=__webpack_require__(49);var _styles=__webpack_require__(22);var _core=__webpack_require__(11);var _hooks=__webpack_require__(125);var _styledComponents=_interopRequireDefault(__webpack_require__(3));var _strapiHelperPlugin=__webpack_require__(8);var _reactIntl=__webpack_require__(14);var _lodash=__webpack_require__(9);var _pluginId=_interopRequireDefault(__webpack_require__(113));var _getRequestUrl=_interopRequireDefault(__webpack_require__(776));var _useDataManager2=_interopRequireDefault(__webpack_require__(2487));var _RightLabel=_interopRequireDefault(__webpack_require__(2601));var _Options=_interopRequireDefault(__webpack_require__(2602));var _RegenerateButton=_interopRequireDefault(__webpack_require__(2607));var _RightContent=_interopRequireDefault(__webpack_require__(2608));var _InputUID=_interopRequireDefault(__webpack_require__(2609));var _Wrapper=_interopRequireDefault(__webpack_require__(2610));var _SubLabel=_interopRequireDefault(__webpack_require__(2611));var _regex=_interopRequireDefault(__webpack_require__(2612));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _templateObject2(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  display: block;\n  text-transform: capitalize;\n  margin-bottom: 1rem;\n"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n"]);_templateObject=function _templateObject(){return data;};return data;}var InputContainer=_styledComponents["default"].div(_templateObject());var Name=(0,_styledComponents["default"])(_core.Label)(_templateObject2());// This component should be in buffetjs. It will be used in the media lib.
// This component will be the strapi custom dropdown component.
// TODO : Make this component generic -> InputDropdown.
// TODO : Use the Compounds components pattern
// https://blog.bitsrc.io/understanding-compound-components-in-react-23c4b84535b5
var InputUID=function InputUID(_ref){var attribute=_ref.attribute,contentTypeUID=_ref.contentTypeUID,description=_ref.description,inputError=_ref.error,name=_ref.name,onChange=_ref.onChange,validations=_ref.validations,value=_ref.value,editable=_ref.editable,inputProps=(0,_objectWithoutProperties2["default"])(_ref,["attribute","contentTypeUID","description","error","name","onChange","validations","value","editable"]);var _useDataManager=(0,_useDataManager2["default"])(),modifiedData=_useDataManager.modifiedData,initialData=_useDataManager.initialData,layout=_useDataManager.layout;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=(0,_react.useState)(null),_useState4=(0,_slicedToArray2["default"])(_useState3,2),availability=_useState4[0],setAvailability=_useState4[1];var _useState5=(0,_react.useState)(true),_useState6=(0,_slicedToArray2["default"])(_useState5,2),isSuggestionOpen=_useState6[0],setIsSuggestionOpen=_useState6[1];var _useState7=(0,_react.useState)(false),_useState8=(0,_slicedToArray2["default"])(_useState7,2),isCustomized=_useState8[0],setIsCustomized=_useState8[1];var _useState9=(0,_react.useState)(),_useState10=(0,_slicedToArray2["default"])(_useState9,2),label=_useState10[0],setLabel=_useState10[1];var debouncedValue=(0,_hooks.useDebounce)(value,300);var debouncedTargetFieldValue=(0,_hooks.useDebounce)(modifiedData[attribute.targetField],300);var wrapperRef=(0,_react.useRef)(null);var generateUid=(0,_react.useRef)();var initialValue=initialData[name];var createdAtName=(0,_lodash.get)(layout,['schema','options','timestamps',0]);var isCreation=!initialData[createdAtName];generateUid.current=/*#__PURE__*/(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){var shouldSetInitialValue,requestURL,_yield$request,data,_args=arguments;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:shouldSetInitialValue=_args.length>0&&_args[0]!==undefined?_args[0]:false;setIsLoading(true);requestURL=(0,_getRequestUrl["default"])('explorer/uid/generate');_context.prev=3;_context.next=6;return(0,_strapiHelperPlugin.request)(requestURL,{method:'POST',body:{contentTypeUID:contentTypeUID,field:name,data:modifiedData}});case 6:_yield$request=_context.sent;data=_yield$request.data;onChange({target:{name:name,value:data,type:'text'}},shouldSetInitialValue);setIsLoading(false);_context.next=16;break;case 12:_context.prev=12;_context.t0=_context["catch"](3);console.error({err:_context.t0});setIsLoading(false);case 16:case"end":return _context.stop();}}},_callee,null,[[3,12]]);}));var checkAvailability=/*#__PURE__*/function(){var _ref3=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee2(){var requestURL,data;return _regenerator["default"].wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setIsLoading(true);requestURL=(0,_getRequestUrl["default"])('explorer/uid/check-availability');_context2.prev=2;_context2.next=5;return(0,_strapiHelperPlugin.request)(requestURL,{method:'POST',body:{contentTypeUID:contentTypeUID,field:name,value:value?value.trim():null}});case 5:data=_context2.sent;setAvailability(data);if(data.suggestion){setIsSuggestionOpen(true);}setIsLoading(false);_context2.next=15;break;case 11:_context2.prev=11;_context2.t0=_context2["catch"](2);console.error({err:_context2.t0});setIsLoading(false);case 15:case"end":return _context2.stop();}}},_callee2,null,[[2,11]]);}));return function checkAvailability(){return _ref3.apply(this,arguments);};}();(0,_react.useEffect)(function(){if(!value&&validations.required){generateUid.current(true);}// eslint-disable-next-line react-hooks/exhaustive-deps
},[]);(0,_react.useEffect)(function(){if(debouncedValue&&debouncedValue.trim().match(_regex["default"])&&debouncedValue!==initialValue){checkAvailability();}if(!debouncedValue){setAvailability(null);}// eslint-disable-next-line react-hooks/exhaustive-deps
},[debouncedValue,initialValue]);(0,_react.useEffect)(function(){var timer;if(availability&&availability.isAvailable){timer=setTimeout(function(){setAvailability(null);},4000);}return function(){if(timer){clearTimeout(timer);}};},[availability]);(0,_react.useEffect)(function(){if(!isCustomized&&isCreation&&debouncedTargetFieldValue&&modifiedData[attribute.targetField]){generateUid.current(true);}// eslint-disable-next-line react-hooks/exhaustive-deps
},[debouncedTargetFieldValue,isCustomized,isCreation]);(0,_hooks.useClickAwayListener)(wrapperRef,function(){return setIsSuggestionOpen(false);});var handleFocus=function handleFocus(){if(availability&&availability.suggestion){setIsSuggestionOpen(true);}};var handleSuggestionClick=function handleSuggestionClick(){setIsSuggestionOpen(false);onChange({target:{name:name,value:availability.suggestion,type:'text'}});};var handleGenerateMouseEnter=function handleGenerateMouseEnter(){setLabel('regenerate');};var handleGenerateMouseLeave=function handleGenerateMouseLeave(){setLabel(null);};var handleChange=function handleChange(e,canCheck,dispatch){if(!canCheck){dispatch({type:'SET_CHECK'});}dispatch({type:'SET_ERROR',error:null});if(e.target.value&&isCreation){setIsCustomized(true);}onChange(e);};return/*#__PURE__*/_react["default"].createElement(_core.Error,{name:name,inputError:inputError,type:"text",validations:_objectSpread(_objectSpread({},validations),{},{regex:_regex["default"]})},function(_ref4){var canCheck=_ref4.canCheck,onBlur=_ref4.onBlur,error=_ref4.error,dispatch=_ref4.dispatch;var hasError=Boolean(error);return/*#__PURE__*/_react["default"].createElement(_Wrapper["default"],{ref:wrapperRef},/*#__PURE__*/_react["default"].createElement(Name,{htmlFor:name},name),/*#__PURE__*/_react["default"].createElement(InputContainer,null,/*#__PURE__*/_react["default"].createElement(_InputUID["default"],(0,_extends2["default"])({},inputProps,{editable:editable,error:hasError,onFocus:handleFocus,name:name,onChange:function onChange(e){return handleChange(e,canCheck,dispatch);},type:"text",onBlur:onBlur// eslint-disable-next-line no-irregular-whitespace
,value:value||''})),/*#__PURE__*/_react["default"].createElement(_RightContent["default"],null,/*#__PURE__*/_react["default"].createElement(_RightLabel["default"],{availability:availability,label:label}),editable&&/*#__PURE__*/_react["default"].createElement(_RegenerateButton["default"],{onMouseEnter:handleGenerateMouseEnter,onMouseLeave:handleGenerateMouseLeave,onClick:function onClick(){return generateUid.current();}},isLoading?/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.LoadingIndicator,{small:true}):/*#__PURE__*/_react["default"].createElement(_icons.Sync,{fill:label?'#007EFF':'#B5B7BB',width:"11px",height:"11px"}))),availability&&availability.suggestion&&isSuggestionOpen&&/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.uid.suggested")},function(msg){return/*#__PURE__*/_react["default"].createElement(_Options["default"],{title:msg,options:[{id:'suggestion',label:availability.suggestion,onClick:handleSuggestionClick}]});})),!hasError&&description&&/*#__PURE__*/_react["default"].createElement(_SubLabel["default"],{as:_styles.Description},description),hasError&&/*#__PURE__*/_react["default"].createElement(_SubLabel["default"],{as:_styles.ErrorMessage},error));});};InputUID.propTypes={attribute:_propTypes["default"].object.isRequired,contentTypeUID:_propTypes["default"].string.isRequired,description:_propTypes["default"].string,editable:_propTypes["default"].bool,error:_propTypes["default"].string,name:_propTypes["default"].string.isRequired,onChange:_propTypes["default"].func.isRequired,validations:_propTypes["default"].object,value:_propTypes["default"].string};InputUID.defaultProps={description:'',editable:false,error:null,validations:{},value:''};var _default=InputUID;exports["default"]=_default;

/***/ }),

/***/ 2601:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _react=_interopRequireDefault(__webpack_require__(1));var _icons=__webpack_require__(49);var _styledComponents=_interopRequireDefault(__webpack_require__(3));var _strapiHelperPlugin=__webpack_require__(8);var _pluginId=_interopRequireDefault(__webpack_require__(113));var _getTrad=_interopRequireDefault(__webpack_require__(2488));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding: 0 5px;\n  text-transform: capitalize;\n  font-size: 1.3rem;\n  color: ",";\n"]);_templateObject=function _templateObject(){return data;};return data;}// Note you don't need to create a specific file for this one
// as it will soon be replaced by the Text one so you can leave it in this file.
var RightContentLabel=_styledComponents["default"].div(_templateObject(),function(_ref){var theme=_ref.theme,color=_ref.color;return theme.main.colors[color];});var RightLabel=function RightLabel(_ref2){var label=_ref2.label,availability=_ref2.availability;var _useGlobalContext=(0,_strapiHelperPlugin.useGlobalContext)(),formatMessage=_useGlobalContext.formatMessage;if(label){return/*#__PURE__*/_react["default"].createElement(RightContentLabel,{color:"blue"},formatMessage({id:(0,_getTrad["default"])('components.uid.regenerate')}));}if(availability!==null){// This should be more generic in the futur.
return availability.isAvailable?/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_icons.Success,{fill:"#27b70f",width:"20px",height:"20px"}),/*#__PURE__*/_react["default"].createElement(RightContentLabel,{color:"green"},formatMessage({id:"".concat(_pluginId["default"],".components.uid.available")}))):/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_icons.Remove,{fill:"#ff203c",width:"9px",height:"9px"}),/*#__PURE__*/_react["default"].createElement(RightContentLabel,{color:"red"},formatMessage({id:(0,_getTrad["default"])('components.uid.unavailable')})));}return null;};RightLabel.propTypes={label:_propTypes["default"].string,availability:_propTypes["default"].shape({isAvailable:_propTypes["default"].bool})};RightLabel.defaultProps={label:null,availability:null};var _default=RightLabel;exports["default"]=_default;

/***/ }),

/***/ 2602:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactIntl=__webpack_require__(14);var _getTrad=_interopRequireDefault(__webpack_require__(2488));var _wrapper=_interopRequireDefault(__webpack_require__(2603));var _Option=_interopRequireDefault(__webpack_require__(2604));var _OptionsTitle=_interopRequireDefault(__webpack_require__(2605));var _RightOptionLabel=_interopRequireDefault(__webpack_require__(2606));var Options=function Options(_ref){var options=_ref.options,title=_ref.title;return/*#__PURE__*/_react["default"].createElement(_wrapper["default"],null,title&&/*#__PURE__*/_react["default"].createElement(_OptionsTitle["default"],null,title),options.map(function(option){return/*#__PURE__*/_react["default"].createElement(_Option["default"],{key:option.id,onClick:option.onClick},/*#__PURE__*/_react["default"].createElement("div",null,option.label),/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:(0,_getTrad["default"])('components.uid.apply')},function(msg){return/*#__PURE__*/_react["default"].createElement(_RightOptionLabel["default"],{className:"right-label"},msg);}));}));};Options.propTypes={options:_propTypes["default"].array.isRequired,title:_propTypes["default"].string};Options.defaultProps={title:null};var _default=Options;exports["default"]=_default;

/***/ }),

/***/ 2603:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: absolute;\n  width: 100%;\n  margin-top: 3px;\n  border: 1px solid ",";\n  border-radius: 2px;\n  background-color: white;\n  z-index: 11;\n"]);_templateObject=function _templateObject(){return data;};return data;}var wrapper=_styledComponents["default"].div(_templateObject(),function(props){return props.theme.main.colors.border;});var _default=wrapper;exports["default"]=_default;

/***/ }),

/***/ 2604:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  display: flex;\n  justify-content: space-between;\n  align-items: baseline;\n  padding: 0.5rem 1rem;\n  font-size: 1.5rem;\n  line-height: 3rem;\n  cursor: pointer;\n  &:hover {\n    background-color: #e4f0fc;\n    .right-label {\n      display: block;\n    }\n  }\n  .right-label {\n    display: block;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Option=_styledComponents["default"].div(_templateObject());var _default=Option;exports["default"]=_default;

/***/ }),

/***/ 2605:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding: 0.7rem 1rem;\n  font-size: 1.2rem;\n  font-weight: bold;\n  line-height: 2.1rem;\n  text-transform: uppercase;\n  color: #9ea7b8;\n"]);_templateObject=function _templateObject(){return data;};return data;}var OptionsTitle=_styledComponents["default"].div(_templateObject());var _default=OptionsTitle;exports["default"]=_default;

/***/ }),

/***/ 2606:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  color: #007dff;\n  text-transform: uppercase;\n  font-weight: bold;\n  font-size: 1.1rem;\n"]);_templateObject=function _templateObject(){return data;};return data;}var RightOptionLabel=_styledComponents["default"].div(_templateObject());var _default=RightOptionLabel;exports["default"]=_default;

/***/ }),

/***/ 2607:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 32px;\n  background-color: #fafafb;\n  z-index: 10;\n\n  &:hover {\n    cursor: pointer;\n    background-color: #aed4fb;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var RegenerateButton=_styledComponents["default"].div(_templateObject());var _default=RegenerateButton;exports["default"]=_default;

/***/ }),

/***/ 2608:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  display: flex;\n  z-index: 10;\n  background-color: ",";\n  align-items: center;\n  line-height: 32px;\n  right: 1px;\n  top: 1px;\n  position: absolute;\n"]);_templateObject=function _templateObject(){return data;};return data;}var RightContent=_styledComponents["default"].div(_templateObject(),function(_ref){var theme=_ref.theme;return theme.main.colors.white;});var _default=RightContent;exports["default"]=_default;

/***/ }),

/***/ 2609:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));var _core=__webpack_require__(11);var _styles=__webpack_require__(22);function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  width: 100%;\n  ","\n"]);_templateObject=function _templateObject(){return data;};return data;}/* eslint-disable indent */var InputUID=(0,_styledComponents["default"])(_core.InputText)(_templateObject(),function(_ref){var error=_ref.error;return error&&"\n      > input {\n        border-color: ".concat(_styles.colors.darkOrange,";\n      }\n    ");});var _default=InputUID;exports["default"]=_default;

/***/ }),

/***/ 2610:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  padding-bottom: 23px;\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=_styledComponents["default"].div(_templateObject());var _default=Wrapper;exports["default"]=_default;

/***/ }),

/***/ 2611:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding-top: 10px;\n  line-height: normal;\n  font-size: 1.3rem;\n"]);_templateObject=function _templateObject(){return data;};return data;}var SubLabel=_styledComponents["default"].p(_templateObject());var _default=SubLabel;exports["default"]=_default;

/***/ }),

/***/ 2612:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var UID_REGEX=new RegExp(/^[A-Za-z0-9-_.~]*$/);var _default=UID_REGEX;exports["default"]=_default;

/***/ }),

/***/ 2613:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"connect",{enumerable:true,get:function get(){return _connect["default"];}});Object.defineProperty(exports,"select",{enumerable:true,get:function get(){return _select["default"];}});var _connect=_interopRequireDefault(__webpack_require__(2614));var _select=_interopRequireDefault(__webpack_require__(2615));

/***/ }),

/***/ 2614:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _react=_interopRequireDefault(__webpack_require__(1));function connect(WrappedComponent,select){return function(props){// eslint-disable-next-line react/prop-types
var selectors=select(props.keys);return/*#__PURE__*/_react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},props,selectors));};}var _default=connect;exports["default"]=_default;

/***/ }),

/***/ 2615:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var _lodash=__webpack_require__(9);var _useDataManager2=_interopRequireDefault(__webpack_require__(2487));function useSelect(keys){var _useDataManager=(0,_useDataManager2["default"])(),createActionAllowedFields=_useDataManager.createActionAllowedFields,formErrors=_useDataManager.formErrors,isCreatingEntry=_useDataManager.isCreatingEntry,modifiedData=_useDataManager.modifiedData,onChange=_useDataManager.onChange,readActionAllowedFields=_useDataManager.readActionAllowedFields,updateActionAllowedFields=_useDataManager.updateActionAllowedFields;var allowedFields=(0,_react.useMemo)(function(){return isCreatingEntry?createActionAllowedFields:updateActionAllowedFields;},[isCreatingEntry,createActionAllowedFields,updateActionAllowedFields]);var readableFields=(0,_react.useMemo)(function(){return isCreatingEntry?[]:readActionAllowedFields;},[isCreatingEntry,readActionAllowedFields]);var value=(0,_lodash.get)(modifiedData,keys,null);return{allowedFields:allowedFields,formErrors:formErrors,isCreatingEntry:isCreatingEntry,onChange:onChange,readableFields:readableFields,value:value};}var _default=useSelect;exports["default"]=_default;

/***/ }),

/***/ 2616:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.RepeatableComponent=exports["default"]=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(16));var _react=_interopRequireWildcard(__webpack_require__(1));var _reactDnd=__webpack_require__(122);var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(9);var _reactIntl=__webpack_require__(14);var _styles=__webpack_require__(22);var _pluginId=_interopRequireDefault(__webpack_require__(113));var _ItemTypes=_interopRequireDefault(__webpack_require__(774));var _connect=_interopRequireDefault(__webpack_require__(2617));var _select=_interopRequireDefault(__webpack_require__(2618));var _AddFieldButton=_interopRequireDefault(__webpack_require__(2619));var _DraggedItem=_interopRequireDefault(__webpack_require__(2620));var _EmptyComponent=_interopRequireDefault(__webpack_require__(2625));var _init=_interopRequireDefault(__webpack_require__(2626));var _reducer=_interopRequireWildcard(__webpack_require__(2627));/* eslint-disable import/no-cycle */var RepeatableComponent=function RepeatableComponent(_ref){var addRepeatableComponentToField=_ref.addRepeatableComponentToField,formErrors=_ref.formErrors,componentUid=_ref.componentUid,componentValue=_ref.componentValue,componentValueLength=_ref.componentValueLength,fields=_ref.fields,isNested=_ref.isNested,isReadOnly=_ref.isReadOnly,max=_ref.max,min=_ref.min,name=_ref.name,schema=_ref.schema;var _useDrop=(0,_reactDnd.useDrop)({accept:_ItemTypes["default"].COMPONENT}),_useDrop2=(0,_slicedToArray2["default"])(_useDrop,2),drop=_useDrop2[1];var componentErrorKeys=Object.keys(formErrors).filter(function(errorKey){return(0,_lodash.take)(errorKey.split('.'),isNested?3:1).join('.')===name;}).map(function(errorKey){return errorKey.split('.').slice(0,name.split('.').length+1).join('.');});// We need to synchronize the collapses array with the data
// The key needed for react in the list will be the one from the collapses data
// This way we don't have to mutate the data when it is received and we can use a unique key
var _useReducer=(0,_react.useReducer)(_reducer["default"],_reducer.initialState,function(){return(0,_init["default"])(_reducer.initialState,componentValue);}),_useReducer2=(0,_slicedToArray2["default"])(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var _state$toJS=state.toJS(),collapses=_state$toJS.collapses;var toggleCollapses=function toggleCollapses(index){dispatch({type:'TOGGLE_COLLAPSE',index:index});};var missingComponentsValue=min-componentValueLength;var errorsArray=componentErrorKeys.map(function(key){return(0,_lodash.get)(formErrors,[key,'id'],'');});var hasMinError=(0,_lodash.get)(errorsArray,[0],'').includes('min')&&!collapses.some(function(obj){return obj.isOpen===true;});return/*#__PURE__*/_react["default"].createElement("div",null,componentValueLength===0&&/*#__PURE__*/_react["default"].createElement(_EmptyComponent["default"],{hasMinError:hasMinError},/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.empty-repeatable")},function(msg){return/*#__PURE__*/_react["default"].createElement("p",null,msg);})),/*#__PURE__*/_react["default"].createElement("div",{ref:drop},componentValueLength>0&&componentValue.map(function(data,index){var componentFieldName="".concat(name,".").concat(index);var doesPreviousFieldContainErrorsAndIsOpen=componentErrorKeys.includes("".concat(name,".").concat(index-1))&&index!==0&&(0,_lodash.get)(collapses,[index-1,'isOpen'],false)===false;var hasErrors=componentErrorKeys.includes(componentFieldName);return/*#__PURE__*/_react["default"].createElement(_DraggedItem["default"],{fields:fields,componentFieldName:componentFieldName,componentUid:componentUid,doesPreviousFieldContainErrorsAndIsOpen:doesPreviousFieldContainErrorsAndIsOpen,hasErrors:hasErrors,hasMinError:hasMinError,isFirst:index===0,isReadOnly:isReadOnly,isOpen:(0,_lodash.get)(collapses,[index,'isOpen'],false),key:(0,_lodash.get)(collapses,[index,'_temp__id'],null),onClickToggle:function onClickToggle(){// Close all other collapses and open the selected one
toggleCollapses(index);},removeCollapse:function removeCollapse(){dispatch({type:'REMOVE_COLLAPSE',index:index});},moveCollapse:function moveCollapse(dragIndex,hoverIndex){dispatch({type:'MOVE_COLLAPSE',dragIndex:dragIndex,hoverIndex:hoverIndex});},parentName:name,schema:schema,toggleCollapses:toggleCollapses});})),/*#__PURE__*/_react["default"].createElement(_AddFieldButton["default"],{hasMinError:hasMinError,disabled:isReadOnly,withBorderRadius:false,doesPreviousFieldContainErrorsAndIsClosed:componentValueLength>0&&componentErrorKeys.includes("".concat(name,".").concat(componentValueLength-1))&&collapses[componentValueLength-1].isOpen===false,type:"button",onClick:function onClick(){if(!isReadOnly){if(componentValueLength<max){var shouldCheckErrors=hasMinError;addRepeatableComponentToField(name,componentUid,shouldCheckErrors);dispatch({type:'ADD_NEW_FIELD'});}else if(componentValueLength>=max){strapi.notification.info("".concat(_pluginId["default"],".components.notification.info.maximum-requirement"));}}}},/*#__PURE__*/_react["default"].createElement("i",{className:"fa fa-plus"}),/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".containers.EditView.add.new")})),hasMinError&&/*#__PURE__*/_react["default"].createElement(_styles.ErrorMessage,null,/*#__PURE__*/_react["default"].createElement(_reactIntl.FormattedMessage,{id:"".concat(_pluginId["default"],".components.DynamicZone.missing").concat(missingComponentsValue>1?'.plural':'.singular'),values:{count:missingComponentsValue}})));};exports.RepeatableComponent=RepeatableComponent;RepeatableComponent.defaultProps={componentValue:null,componentValueLength:0,fields:[],formErrors:{},isNested:false,max:Infinity,min:-Infinity};RepeatableComponent.propTypes={addRepeatableComponentToField:_propTypes["default"].func.isRequired,componentUid:_propTypes["default"].string.isRequired,componentValue:_propTypes["default"].oneOfType([_propTypes["default"].array,_propTypes["default"].object]),componentValueLength:_propTypes["default"].number,fields:_propTypes["default"].array,formErrors:_propTypes["default"].object,isNested:_propTypes["default"].bool,isReadOnly:_propTypes["default"].bool.isRequired,max:_propTypes["default"].number,min:_propTypes["default"].number,name:_propTypes["default"].string.isRequired,schema:_propTypes["default"].object.isRequired};var Memoized=/*#__PURE__*/(0,_react.memo)(RepeatableComponent);var _default=(0,_connect["default"])(Memoized,_select["default"]);exports["default"]=_default;

/***/ }),

/***/ 2617:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _react=_interopRequireDefault(__webpack_require__(1));function connect(WrappedComponent,select){return function(props){var selectors=select(props);return/*#__PURE__*/_react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},props,selectors));};}var _default=connect;exports["default"]=_default;

/***/ }),

/***/ 2618:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _useDataManager2=_interopRequireDefault(__webpack_require__(2487));function useSelect(){var _useDataManager=(0,_useDataManager2["default"])(),addRepeatableComponentToField=_useDataManager.addRepeatableComponentToField,formErrors=_useDataManager.formErrors;return{addRepeatableComponentToField:addRepeatableComponentToField,formErrors:formErrors};}var _default=useSelect;exports["default"]=_default;

/***/ }),

/***/ 2619:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireWildcard(__webpack_require__(3));function _templateObject2(){var data=(0,_taggedTemplateLiteral2["default"])(["\n        border-radius: 2px;\n      "]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  width: 100%;\n  height: 37px;\n  margin-bottom: 25px;\n  padding: 0 0 3px 0;\n  text-align: center;\n  border: 1px solid rgba(227, 233, 243, 0.75);\n  border-top: 1px solid\n    ",";\n\n  border-bottom-left-radius: 2px;\n  border-bottom-right-radius: 2px;\n  ","\n\n  ","\n\n  color: ",";\n  font-size: 12px;\n  font-weight: 700;\n  -webkit-font-smoothing: antialiased;\n  line-height: normal;\n  cursor: ",";\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  background-color: #fff;\n  &:focus {\n    outline: 0;\n  }\n  > i,\n  svg {\n    margin-right: 10px;\n  }\n  & + p {\n    margin-bottom: 17px;\n    margin-top: -18px;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}/* eslint-disable indent */var Button=_styledComponents["default"].button(_templateObject(),function(_ref){var doesPreviousFieldContainErrorsAndIsClosed=_ref.doesPreviousFieldContainErrorsAndIsClosed;return doesPreviousFieldContainErrorsAndIsClosed?'#FFA784':'rgba(227, 233, 243, 0.75)';},function(_ref2){var withBorderRadius=_ref2.withBorderRadius;if(withBorderRadius){return(0,_styledComponents.css)(_templateObject2());}return'';},function(_ref3){var hasMinError=_ref3.hasMinError;if(hasMinError){return"\n        border-color: #FAA684;\n        border-top-color: rgba(227, 233, 243, 0.75);\n      ";}return'';},function(_ref4){var disabled=_ref4.disabled;return disabled?'#9EA7B8':' #007eff';},function(_ref5){var disabled=_ref5.disabled;return disabled?'not-allowed':'pointer';});Button.defaultProps={disabled:false};var _default=Button;exports["default"]=_default;

/***/ }),

/***/ 2620:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.DraggedItem=exports["default"]=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(16));var _react=_interopRequireWildcard(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _lodash=__webpack_require__(9);var _reactstrap=__webpack_require__(44);var _reactDnd=__webpack_require__(122);var _reactDndHtml5Backend=__webpack_require__(281);var _useEditView2=_interopRequireDefault(__webpack_require__(2491));var _ItemTypes=_interopRequireDefault(__webpack_require__(774));var _Inputs=_interopRequireDefault(__webpack_require__(2511));var _FieldComponent=_interopRequireDefault(__webpack_require__(2496));var _Banner=_interopRequireDefault(__webpack_require__(780));var _FormWrapper=_interopRequireDefault(__webpack_require__(2621));var _utils=__webpack_require__(2622);/* eslint-disable import/no-cycle */ /* eslint-disable react/no-array-index-key */ // Issues:
// https://github.com/react-dnd/react-dnd/issues/1368
// https://github.com/frontend-collective/react-sortable-tree/issues/490
var DraggedItem=function DraggedItem(_ref){var componentFieldName=_ref.componentFieldName,componentUid=_ref.componentUid,doesPreviousFieldContainErrorsAndIsOpen=_ref.doesPreviousFieldContainErrorsAndIsOpen,fields=_ref.fields,hasErrors=_ref.hasErrors,hasMinError=_ref.hasMinError,isFirst=_ref.isFirst,isReadOnly=_ref.isReadOnly,isOpen=_ref.isOpen,moveCollapse=_ref.moveCollapse,onClickToggle=_ref.onClickToggle,removeCollapse=_ref.removeCollapse,schema=_ref.schema,toggleCollapses=_ref.toggleCollapses,moveComponentField=_ref.moveComponentField,removeRepeatableField=_ref.removeRepeatableField,triggerFormValidation=_ref.triggerFormValidation,checkFormErrors=_ref.checkFormErrors,displayedValue=_ref.displayedValue;var _useEditView=(0,_useEditView2["default"])(),setIsDraggingComponent=_useEditView.setIsDraggingComponent,unsetIsDraggingComponent=_useEditView.unsetIsDraggingComponent;var dragRef=(0,_react.useRef)(null);var dropRef=(0,_react.useRef)(null);var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),showForm=_useState2[0],setShowForm=_useState2[1];(0,_react.useEffect)(function(){if(isOpen){setShowForm(true);}},[isOpen]);var _useDrop=(0,_reactDnd.useDrop)({accept:_ItemTypes["default"].COMPONENT,canDrop:function canDrop(){return false;},hover:function hover(item,monitor){if(!dropRef.current){return;}var dragPath=item.originalPath;var hoverPath=componentFieldName;var fullPathToComponentArray=dragPath.split('.');var dragIndexString=fullPathToComponentArray.slice().splice(-1).join('');var hoverIndexString=hoverPath.split('.').splice(-1).join('');var pathToComponentArray=fullPathToComponentArray.slice(0,fullPathToComponentArray.length-1);var dragIndex=parseInt(dragIndexString,10);var hoverIndex=parseInt(hoverIndexString,10);// Don't replace items with themselves
if(dragIndex===hoverIndex){return;}// Determine rectangle on screen
var hoverBoundingRect=dropRef.current.getBoundingClientRect();// Get vertical middle
var hoverMiddleY=(hoverBoundingRect.bottom-hoverBoundingRect.top)/2;// Determine mouse position
var clientOffset=monitor.getClientOffset();// Get pixels to the top
var hoverClientY=clientOffset.y-hoverBoundingRect.top;// Only perform the move when the mouse has crossed half of the items height
// When dragging downwards, only move when the cursor is below 50%
// When dragging upwards, only move when the cursor is above 50%
// Dragging downwards
if(dragIndex<hoverIndex&&hoverClientY<hoverMiddleY){return;}// Dragging upwards
if(dragIndex>hoverIndex&&hoverClientY>hoverMiddleY){return;}// Time to actually perform the action in the data
moveComponentField(pathToComponentArray,dragIndex,hoverIndex);// Time to actually perform the action in the synchronized collapses
moveCollapse(dragIndex,hoverIndex);// Note: we're mutating the monitor item here!
// Generally it's better to avoid mutations,
// but it's good here for the sake of performance
// to avoid expensive index searches.
item.originalPath=hoverPath;}}),_useDrop2=(0,_slicedToArray2["default"])(_useDrop,2),drop=_useDrop2[1];var _useDrag=(0,_reactDnd.useDrag)({item:{type:_ItemTypes["default"].COMPONENT,displayedValue:displayedValue,originalPath:componentFieldName},begin:function begin(){// Close all collapses
toggleCollapses(-1);// Prevent the relations select from firing requests
setIsDraggingComponent();},end:function end(){// Enable the relations select to fire requests
unsetIsDraggingComponent();// Update the errors
triggerFormValidation();},collect:function collect(monitor){return{isDragging:monitor.isDragging()};}}),_useDrag2=(0,_slicedToArray2["default"])(_useDrag,3),isDragging=_useDrag2[0].isDragging,drag=_useDrag2[1],preview=_useDrag2[2];(0,_react.useEffect)(function(){preview((0,_reactDndHtml5Backend.getEmptyImage)(),{captureDraggingState:false});},[preview]);var getField=function getField(fieldName){return(0,_lodash.get)(schema,['schema','attributes',fieldName],{});};var getMeta=function getMeta(fieldName){return(0,_lodash.get)(schema,['metadatas',fieldName,'edit'],{});};// Create the refs
// We need 1 for the drop target
// 1 for the drag target
var refs={dragRef:drag(dragRef),dropRef:drop(dropRef)};return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_Banner["default"],{componentFieldName:componentFieldName,hasErrors:hasErrors,hasMinError:hasMinError,isFirst:isFirst,displayedValue:displayedValue,doesPreviousFieldContainErrorsAndIsOpen:doesPreviousFieldContainErrorsAndIsOpen,isDragging:isDragging,isOpen:isOpen,isReadOnly:isReadOnly,onClickToggle:onClickToggle,onClickRemove:function onClickRemove(){removeRepeatableField(componentFieldName);removeCollapse();},ref:refs}),/*#__PURE__*/_react["default"].createElement(_reactstrap.Collapse,{isOpen:isOpen,style:{backgroundColor:'#FAFAFB'},onExited:function onExited(){return setShowForm(false);}},!isDragging&&/*#__PURE__*/_react["default"].createElement(_FormWrapper["default"],{hasErrors:hasErrors,isOpen:isOpen,isReadOnly:isReadOnly},showForm&&fields.map(function(fieldRow,key){return/*#__PURE__*/_react["default"].createElement("div",{className:"row",key:key},fieldRow.map(function(field){var currentField=getField(field.name);var isComponent=(0,_lodash.get)(currentField,'type','')==='component';var keys="".concat(componentFieldName,".").concat(field.name);if(isComponent){var _componentUid=currentField.component;var metas=getMeta(field.name);return/*#__PURE__*/_react["default"].createElement(_FieldComponent["default"],{componentUid:_componentUid,isRepeatable:currentField.repeatable,key:field.name,label:metas.label,isNested:true,name:keys,max:currentField.max,min:currentField.min});}return/*#__PURE__*/_react["default"].createElement("div",{key:field.name,className:"col-".concat(field.size)},/*#__PURE__*/_react["default"].createElement(_Inputs["default"],{autoFocus:false,componentUid:componentUid,keys:keys,layout:schema,name:field.name,onBlur:hasErrors?checkFormErrors:null}));}));}))));};exports.DraggedItem=DraggedItem;DraggedItem.defaultProps={doesPreviousFieldContainErrorsAndIsOpen:false,fields:[],hasErrors:false,hasMinError:false,isFirst:false,isOpen:false,moveCollapse:function moveCollapse(){},toggleCollapses:function toggleCollapses(){}};DraggedItem.propTypes={componentFieldName:_propTypes["default"].string.isRequired,componentUid:_propTypes["default"].string.isRequired,doesPreviousFieldContainErrorsAndIsOpen:_propTypes["default"].bool,fields:_propTypes["default"].array,hasErrors:_propTypes["default"].bool,hasMinError:_propTypes["default"].bool,isFirst:_propTypes["default"].bool,isOpen:_propTypes["default"].bool,isReadOnly:_propTypes["default"].bool.isRequired,moveCollapse:_propTypes["default"].func,onClickToggle:_propTypes["default"].func.isRequired,removeCollapse:_propTypes["default"].func.isRequired,schema:_propTypes["default"].object.isRequired,toggleCollapses:_propTypes["default"].func,moveComponentField:_propTypes["default"].func.isRequired,removeRepeatableField:_propTypes["default"].func.isRequired,triggerFormValidation:_propTypes["default"].func.isRequired,checkFormErrors:_propTypes["default"].func.isRequired,displayedValue:_propTypes["default"].string.isRequired};var Memoized=/*#__PURE__*/(0,_react.memo)(DraggedItem);var _default=(0,_utils.connect)(Memoized,_utils.select);exports["default"]=_default;

/***/ }),

/***/ 2621:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding-top: 24px;\n  padding-left: 20px;\n  padding-right: 20px;\n  padding-bottom: 10px;\n  border-top: 1px solid\n    ",";\n"]);_templateObject=function _templateObject(){return data;};return data;}/* eslint-disable indent */var FormWrapper=_styledComponents["default"].div(_templateObject(),function(_ref){var hasErrors=_ref.hasErrors,isOpen=_ref.isOpen,isReadOnly=_ref.isReadOnly;if(hasErrors){return'#ffa784';}if(isOpen&&!isReadOnly){return'#AED4FB';}return'rgba(227, 233, 243, 0.75)';});FormWrapper.defaultProps={isReadOnly:false};var _default=FormWrapper;exports["default"]=_default;

/***/ }),

/***/ 2622:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"connect",{enumerable:true,get:function get(){return _connect["default"];}});Object.defineProperty(exports,"select",{enumerable:true,get:function get(){return _select["default"];}});var _connect=_interopRequireDefault(__webpack_require__(2623));var _select=_interopRequireDefault(__webpack_require__(2624));

/***/ }),

/***/ 2623:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _react=_interopRequireDefault(__webpack_require__(1));function connect(WrappedComponent,select){return function(props){var selectors=select(props);return/*#__PURE__*/_react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},props,selectors));};}var _default=connect;exports["default"]=_default;

/***/ }),

/***/ 2624:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(27));var _react=__webpack_require__(1);var _lodash=__webpack_require__(9);var _useDataManager2=_interopRequireDefault(__webpack_require__(2487));function useSelect(_ref){var schema=_ref.schema,componentFieldName=_ref.componentFieldName;var _useDataManager=(0,_useDataManager2["default"])(),checkFormErrors=_useDataManager.checkFormErrors,modifiedData=_useDataManager.modifiedData,moveComponentField=_useDataManager.moveComponentField,removeRepeatableField=_useDataManager.removeRepeatableField,triggerFormValidation=_useDataManager.triggerFormValidation;var mainField=(0,_react.useMemo)(function(){return(0,_lodash.get)(schema,['settings','mainField'],'id');},[schema]);var displayedValue=(0,_lodash.toString)((0,_lodash.get)(modifiedData,[].concat((0,_toConsumableArray2["default"])(componentFieldName.split('.')),[mainField]),''));return{displayedValue:displayedValue,mainField:mainField,checkFormErrors:checkFormErrors,moveComponentField:moveComponentField,removeRepeatableField:removeRepeatableField,triggerFormValidation:triggerFormValidation};}var _default=useSelect;exports["default"]=_default;

/***/ }),

/***/ 2625:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  height: 71px;\n  border: 1px solid rgba(227, 233, 243, 0.75);\n  border-top-left-radius: 2px;\n  border-top-right-radius: 2px;\n  border-bottom: 0;\n  line-height: 66px;\n  text-align: center;\n  background-color: #fff;\n\n  ","\n\n  > p {\n    color: #9ea7b8;\n    font-size: 13px;\n    font-weight: 500;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}/* eslint-disable indent */var EmptyComponent=_styledComponents["default"].div(_templateObject(),function(_ref){var hasMinError=_ref.hasMinError;return hasMinError&&"\n    border-color: #FAA684\n  ";});var _default=EmptyComponent;exports["default"]=_default;

/***/ }),

/***/ 2626:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _immutable=__webpack_require__(51);var _lodash=__webpack_require__(9);// Initialize all the fields of the component is the isOpen key to false
// The key will be used to control the open close state of the banner
function init(initialState,componentValue){return initialState.update('collapses',function(list){if((0,_lodash.isArray)(componentValue)){return(0,_immutable.fromJS)(componentValue.map(function(_,i){return{isOpen:false,_temp__id:i};}));}return list;});}var _default=init;exports["default"]=_default;

/***/ }),

/***/ 2627:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports.initialState=exports["default"]=void 0;var _immutable=__webpack_require__(51);var initialState=(0,_immutable.fromJS)({collapses:[]});exports.initialState=initialState;var getMax=function getMax(arr){if(arr.size===0){return-1;}return Math.max.apply(Math,arr.toJS().map(function(o){return o._temp__id;}));};var reducer=function reducer(state,action){switch(action.type){case'ADD_NEW_FIELD':return state.update('collapses',function(list){return list.map(function(obj){return obj.update('isOpen',function(){return false;});}).push((0,_immutable.fromJS)({isOpen:true,_temp__id:getMax(list)+1}));});case'MOVE_COLLAPSE':return state.updateIn(['collapses'],function(list){var oldList=list;var newList=list["delete"](action.dragIndex).insert(action.hoverIndex,state.getIn(['collapses',action.dragIndex]));// Fix for
// https://github.com/react-dnd/react-dnd/issues/1368
// https://github.com/frontend-collective/react-sortable-tree/issues/490
if(oldList.size!==newList.size){strapi.notification.error("An error occured while reordering your component's field, please try again");return oldList;}return newList;});case'TOGGLE_COLLAPSE':return state.update('collapses',function(list){return list.map(function(obj,index){if(index===action.index){return obj.update('isOpen',function(v){return!v;});}return obj.update('isOpen',function(){return false;});});});case'REMOVE_COLLAPSE':return state.removeIn(['collapses',action.index]).update('collapses',function(list){return list.map(function(obj){return obj.set('isOpen',false);});}).update('collapses',function(list){if(action.shouldAddEmptyField){return list.push((0,_immutable.fromJS)({isOpen:true}));}return list;});default:return state;}};var _default=reducer;exports["default"]=_default;

/***/ }),

/***/ 2628:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _react=_interopRequireDefault(__webpack_require__(1));function connect(WrappedComponent,select){return function(props){// eslint-disable-next-line react/prop-types
var selectors=select(props);return/*#__PURE__*/_react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},props,selectors));};}var _default=connect;exports["default"]=_default;

/***/ }),

/***/ 2629:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var _lodash=__webpack_require__(9);var _useDataManager2=_interopRequireDefault(__webpack_require__(2487));var _utils=__webpack_require__(2490);function useSelect(_ref){var isFromDynamicZone=_ref.isFromDynamicZone,name=_ref.name;var _useDataManager=(0,_useDataManager2["default"])(),allDynamicZoneFields=_useDataManager.allDynamicZoneFields,createActionAllowedFields=_useDataManager.createActionAllowedFields,isCreatingEntry=_useDataManager.isCreatingEntry,modifiedData=_useDataManager.modifiedData,removeComponentFromField=_useDataManager.removeComponentFromField,readActionAllowedFields=_useDataManager.readActionAllowedFields,updateActionAllowedFields=_useDataManager.updateActionAllowedFields;var allowedFields=(0,_react.useMemo)(function(){return isCreatingEntry?createActionAllowedFields:updateActionAllowedFields;},[isCreatingEntry,createActionAllowedFields,updateActionAllowedFields]);var componentValue=(0,_lodash.get)(modifiedData,name,null);var compoName=(0,_react.useMemo)(function(){return(0,_utils.getFieldName)(name);},[name]);var hasChildrenAllowedFields=(0,_react.useMemo)(function(){if(isFromDynamicZone&&isCreatingEntry){return true;}var includedDynamicZoneFields=allowedFields.filter(function(name){return name===compoName[0];});if(includedDynamicZoneFields.length>0){return true;}var relatedChildrenAllowedFields=allowedFields.map(function(fieldName){return fieldName.split('.');}).filter(function(fieldName){if(fieldName.length<compoName.length){return false;}var joined=(0,_lodash.take)(fieldName,compoName.length).join('.');return joined===compoName.join('.');});return relatedChildrenAllowedFields.length>0;},[isFromDynamicZone,isCreatingEntry,allowedFields,compoName]);// This is used only when updating an entry
var hasChildrenReadableFields=(0,_react.useMemo)(function(){if(isFromDynamicZone){return true;}if(allDynamicZoneFields.includes(compoName[0])){return true;}var allowedFields=isCreatingEntry?[]:readActionAllowedFields;var relatedChildrenAllowedFields=allowedFields.map(function(fieldName){return fieldName.split('.');}).filter(function(fieldName){if(fieldName.length<compoName.length){return false;}var joined=(0,_lodash.take)(fieldName,compoName.length).join('.');return joined===compoName.join('.');});return relatedChildrenAllowedFields.length>0;},[isFromDynamicZone,allDynamicZoneFields,compoName,isCreatingEntry,readActionAllowedFields]);var isReadOnly=(0,_react.useMemo)(function(){if(isCreatingEntry){return false;}if(hasChildrenAllowedFields){return false;}return hasChildrenReadableFields;},[hasChildrenAllowedFields,hasChildrenReadableFields,isCreatingEntry]);return{hasChildrenAllowedFields:hasChildrenAllowedFields,hasChildrenReadableFields:hasChildrenReadableFields,isCreatingEntry:isCreatingEntry,isReadOnly:isReadOnly,removeComponentFromField:removeComponentFromField,componentValue:componentValue};}var _default=useSelect;exports["default"]=_default;

/***/ }),

/***/ 2630:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: absolute;\n  top: -16px;\n  left: 10px;\n  display: flex;\n\n  > .component_name {\n    overflow: hidden;\n    position: relative;\n    width: 31px;\n    height: 31px;\n    padding: 0 11px 0 0px;\n    color: #007eff;\n    font-size: 13px;\n    font-weight: 600;\n    line-height: 26px;\n    border-radius: 31px;\n    border: 2px solid white;\n    background-color: #e6f0fb;\n    transition: all 0.2s ease-out;\n\n    .component_icon {\n      z-index: 1;\n      display: flex;\n      position: absolute;\n      top: -1px;\n      left: -1px;\n      width: 29px;\n      height: 29px;\n      border-radius: 31px;\n      border: 1px solid white;\n      background-color: #e6f0fb;\n\n      svg {\n        margin: auto;\n        color: #007eff;\n        font-size: 11px;\n      }\n    }\n\n    &:hover {\n      cursor: pointer;\n      width: auto !important;\n      padding-left: 39px;\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var ComponentIcon=_styledComponents["default"].div(_templateObject());var _default=ComponentIcon;exports["default"]=_default;

/***/ }),

/***/ 2631:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  font-weight: 500;\n  font-size: 13px;\n  margin-bottom: 1rem;\n  display: block;\n"]);_templateObject=function _templateObject(){return data;};return data;}var Label=_styledComponents["default"].label(_templateObject());var _default=Label;exports["default"]=_default;

/***/ }),

/***/ 2632:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: absolute;\n  top: 0;\n  right: 15px;\n  display: flex;\n\n  cursor: pointer;\n  color: #4b515a;\n\n  > span {\n    margin-right: 10px;\n    display: none;\n  }\n\n  &:hover {\n    > div {\n      background-color: #faa684;\n    }\n    color: #f64d0a;\n    > span {\n      display: initial;\n    }\n  }\n\n  > div {\n    width: 24px;\n    height: 24px;\n    background-color: #f3f4f4;\n    text-align: center;\n    border-radius: 2px;\n    &:after {\n      content: '\f2ed';\n      font-size: 10px;\n      font-family: FontAwesome;\n    }\n  }\n"],["\n  position: absolute;\n  top: 0;\n  right: 15px;\n  display: flex;\n\n  cursor: pointer;\n  color: #4b515a;\n\n  > span {\n    margin-right: 10px;\n    display: none;\n  }\n\n  &:hover {\n    > div {\n      background-color: #faa684;\n    }\n    color: #f64d0a;\n    > span {\n      display: initial;\n    }\n  }\n\n  > div {\n    width: 24px;\n    height: 24px;\n    background-color: #f3f4f4;\n    text-align: center;\n    border-radius: 2px;\n    &:after {\n      content: '\\f2ed';\n      font-size: 10px;\n      font-family: FontAwesome;\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var ResetComponent=_styledComponents["default"].div(_templateObject());var _default=ResetComponent;exports["default"]=_default;

/***/ }),

/***/ 2633:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n\n  ","\n"]);_templateObject=function _templateObject(){return data;};return data;}/* eslint-disable indent */var Wrapper=_styledComponents["default"].div(_templateObject(),function(_ref){var isFromDynamicZone=_ref.isFromDynamicZone;if(isFromDynamicZone){return"\n        background-color: #fff;\n      ";}return'';});var _default=Wrapper;exports["default"]=_default;

/***/ }),

/***/ 2634:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _react=_interopRequireDefault(__webpack_require__(1));function connect(WrappedComponent,select){return function(props){// eslint-disable-next-line react/prop-types
var selectors=select(props.name);return/*#__PURE__*/_react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},props,selectors));};}var _default=connect;exports["default"]=_default;

/***/ }),

/***/ 2635:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _react=__webpack_require__(1);var _lodash=__webpack_require__(9);var _useDataManager2=_interopRequireDefault(__webpack_require__(2487));function useSelect(name){var _useDataManager=(0,_useDataManager2["default"])(),addComponentToDynamicZone=_useDataManager.addComponentToDynamicZone,createActionAllowedFields=_useDataManager.createActionAllowedFields,isCreatingEntry=_useDataManager.isCreatingEntry,formErrors=_useDataManager.formErrors,layout=_useDataManager.layout,modifiedData=_useDataManager.modifiedData,moveComponentUp=_useDataManager.moveComponentUp,moveComponentDown=_useDataManager.moveComponentDown,removeComponentFromDynamicZone=_useDataManager.removeComponentFromDynamicZone,readActionAllowedFields=_useDataManager.readActionAllowedFields,updateActionAllowedFields=_useDataManager.updateActionAllowedFields;var dynamicDisplayedComponents=(0,_react.useMemo)(function(){return(0,_lodash.get)(modifiedData,[name],[]).map(function(data){return data.__component;});},[modifiedData,name]);var isFieldAllowed=(0,_react.useMemo)(function(){var allowedFields=isCreatingEntry?createActionAllowedFields:updateActionAllowedFields;return allowedFields.includes(name);},[name,isCreatingEntry,createActionAllowedFields,updateActionAllowedFields]);var isFieldReadable=(0,_react.useMemo)(function(){var allowedFields=isCreatingEntry?[]:readActionAllowedFields;return allowedFields.includes(name);},[name,isCreatingEntry,readActionAllowedFields]);return{addComponentToDynamicZone:addComponentToDynamicZone,formErrors:formErrors,layout:layout,isCreatingEntry:isCreatingEntry,isFieldAllowed:isFieldAllowed,isFieldReadable:isFieldReadable,moveComponentUp:moveComponentUp,moveComponentDown:moveComponentDown,removeComponentFromDynamicZone:removeComponentFromDynamicZone,dynamicDisplayedComponents:dynamicDisplayedComponents};}var _default=useSelect;exports["default"]=_default;

/***/ }),

/***/ 2636:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding-top: ",";\n"]);_templateObject=function _templateObject(){return data;};return data;}var BaselineAlignement=_styledComponents["default"].div(_templateObject(),function(_ref){var top=_ref.top;return top;});BaselineAlignement.defaultProps={top:'1px'};var _default=BaselineAlignement;exports["default"]=_default;

/***/ }),

/***/ 2637:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));var _PlusButton=_interopRequireDefault(__webpack_require__(2525));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  transform: rotate(-90deg);\n  transition: background-color 0.1s linear;\n  transition: transform 0.1s ease-in-out;\n  &:hover {\n    background-color: #aed4fb;\n    :before,\n    :after {\n      background-color: #007eff;\n    }\n  }\n\n  ","\n\n  &.isOpen {\n    transform: rotate(-45deg);\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}/* eslint-disable indent */var Button=(0,_styledComponents["default"])(_PlusButton["default"])(_templateObject(),function(_ref){var hasError=_ref.hasError;return hasError&&"\n    background-color: #FAA684;\n    :before, :after {\n      background-color: #F64D0A;\n    }\n  ";});var _default=Button;exports["default"]=_default;

/***/ }),

/***/ 2638:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  overflow: hidden;\n  max-height: 0;\n  transition: max-height 0.2s ease-out;\n\n  > div {\n    margin-top: 15px;\n    padding: 23px 18px 21px 18px;\n    background-color: #f2f3f4;\n  }\n\n  ","\n\n  .componentPickerTitle {\n    margin-bottom: 15px;\n    color: #919bae;\n    font-weight: 600;\n    font-size: 13px;\n    line-height: normal;\n  }\n  .componentsList {\n    display: flex;\n    overflow-x: auto;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}/* eslint-disable indent */var ComponentsPicker=_styledComponents["default"].div(_templateObject(),function(_ref){var isOpen=_ref.isOpen;return isOpen&&"\n    max-height: 260px;\n  ";});var _default=ComponentsPicker;exports["default"]=_default;

/***/ }),

/***/ 2639:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  > div {\n    position: relative;\n    box-shadow: 0 2px 4px #e3e9f3;\n    border-radius: 2px;\n    .arrow-icons {\n      position: absolute;\n      top: -12px;\n      right: 49px;\n      z-index: 9;\n      .arrow-btn {\n        display: inline-flex;\n        svg {\n          margin-left: 5px;\n          margin-top: 5px;\n        }\n      }\n    }\n    &:not(:first-of-type) {\n      margin-top: 32px;\n      &:before {\n        content: '&';\n        position: absolute;\n        top: -30px;\n        left: 24.5px;\n        height: 100%;\n        width: 2px;\n        background-color: #e6f0fb;\n        color: transparent;\n      }\n    }\n    > div:last-of-type {\n      padding-top: 6px;\n      padding-bottom: 5px;\n      margin-bottom: 22px;\n      border-radius: 2px;\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var ComponentWrapper=_styledComponents["default"].div(_templateObject());var _default=ComponentWrapper;exports["default"]=_default;

/***/ }),

/***/ 2640:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  padding-top: 10px;\n  margin-bottom: 15px;\n  & + & {\n    padding-top: 13px;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var DynamicZoneWrapper=_styledComponents["default"].div(_templateObject());var _default=DynamicZoneWrapper;exports["default"]=_default;

/***/ }),

/***/ 2641:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding: 9px 20px;\n  font-size: 13px;\n  font-weight: 600;\n  position: relative;\n  min-height: 64px;\n  &:after {\n    content: '\u2022';\n    position: absolute;\n    top: 15px;\n    left: 21.5px;\n    font-size: 15px;\n    width: 8px;\n    height: 8px;\n    background-color: #aed4fb;\n    color: transparent;\n    border-radius: 4px;\n    border: 1px solid white;\n  }\n  &:before {\n    content: '&';\n    position: absolute;\n    top: 22px;\n    left: 24.5px;\n    height: 100%;\n    width: 2px;\n    background-color: #e6f0fb;\n    color: transparent;\n  }\n  p {\n    padding-left: 18px;\n    margin-bottom: 0;\n  }\n  p:last-of-type:not(:first-of-type) {\n    color: #9ea7b8;\n    font-weight: 400;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Label=_styledComponents["default"].div(_templateObject());var _default=Label;exports["default"]=_default;

/***/ }),

/***/ 2642:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  height: 31px;\n  width: 31px;\n  border-radius: 50%;\n  background-color: #f2f3f4;\n  border: 2px solid #ffffff;\n  cursor: pointer;\n  display: flex;\n  z-index: 9;\n  svg {\n    font-size: 10px;\n    line-height: 29px;\n    margin: auto;\n  }\n  &:not(.arrow-btn) {\n    position: absolute;\n    top: -16px;\n    right: 10px;\n    transition: all 200ms ease-in;\n    &:hover {\n      background-color: #faa684;\n      color: #f64d0a;\n    }\n  }\n  &.arrow-btn {\n    height: 22px;\n    width: 22px;\n    background-color: #ffffff;\n    border: 2px solid #ffffff;\n    svg {\n      font-size: 10px;\n      line-height: 22px;\n    }\n    &:hover {\n      background-color: #f2f3f4;\n    }\n    &.arrow-down {\n      transform: rotate(180deg);\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var RoundCTA=_styledComponents["default"].div(_templateObject());var _default=RoundCTA;exports["default"]=_default;

/***/ }),

/***/ 2643:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  position: relative;\n  padding-top: 5px;\n  text-align: center;\n  .info {\n    position: absolute;\n    display: none;\n    top: 10px;\n    left: calc(50% + 28px);\n    > span {\n      letter-spacing: 0.5px;\n      text-transform: uppercase;\n      color: #007eff;\n      font-size: 11px;\n      font-weight: 700;\n    }\n  }\n  button {\n    &:not(.isOpen):hover + .info {\n      display: block;\n    }\n  }\n  .error-label {\n    color: #f64d0a;\n    font-size: 13px;\n    margin-top: 4px;\n    margin-bottom: -5px;\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var Wrapper=_styledComponents["default"].div(_templateObject());var _default=Wrapper;exports["default"]=_default;

/***/ }),

/***/ 2644:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  padding: 22px 10px 0 10px;\n  background: #ffffff;\n  border-radius: 2px;\n  box-shadow: 0 2px 4px #e3e9f3;\n  margin-bottom: 17px;\n  > div {\n    margin-right: 0;\n    margin-left: 0;\n  }\n  .row {\n    &:last-of-type {\n      margin-bottom: 0;\n    }\n  }\n"]);_templateObject=function _templateObject(){return data;};return data;}var FormWrapper=_styledComponents["default"].div(_templateObject());var _default=FormWrapper;exports["default"]=_default;

/***/ }),

/***/ 2645:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(6));var _regenerator=_interopRequireDefault(__webpack_require__(30));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(32));var _slicedToArray2=_interopRequireDefault(__webpack_require__(16));var _react=_interopRequireWildcard(__webpack_require__(1));var _lodash=__webpack_require__(9);var _propTypes=_interopRequireDefault(__webpack_require__(2));var _reactRouterDom=__webpack_require__(26);var _strapiHelperPlugin=__webpack_require__(8);var _EditViewDataManager=_interopRequireDefault(__webpack_require__(2523));var _utils=__webpack_require__(2490);var _pluginId=_interopRequireDefault(__webpack_require__(113));var _init=_interopRequireDefault(__webpack_require__(2646));var _reducer=_interopRequireWildcard(__webpack_require__(2647));var _utils2=__webpack_require__(2648);var getRequestUrl=function getRequestUrl(path){return"/".concat(_pluginId["default"],"/explorer/").concat(path);};var EditViewDataManagerProvider=function EditViewDataManagerProvider(_ref){var allLayoutData=_ref.allLayoutData,children=_ref.children,isSingleType=_ref.isSingleType,redirectToPreviousPage=_ref.redirectToPreviousPage,slug=_ref.slug;var _useParams=(0,_reactRouterDom.useParams)(),id=_useParams.id;var _useReducer=(0,_react.useReducer)(_reducer["default"],_reducer.initialState,_init["default"]),_useReducer2=(0,_slicedToArray2["default"])(_useReducer,2),reducerState=_useReducer2[0],dispatch=_useReducer2[1];var _useLocation=(0,_reactRouterDom.useLocation)(),state=_useLocation.state;var _useHistory=(0,_reactRouterDom.useHistory)(),push=_useHistory.push;// Here in case of a 403 response when fetching data we will either redirect to the previous page
// Or to the homepage if there's no state in the history stack
var from=(0,_lodash.get)(state,'from','/');var _reducerState$toJS=reducerState.toJS(),formErrors=_reducerState$toJS.formErrors,initialData=_reducerState$toJS.initialData,isLoading=_reducerState$toJS.isLoading,modifiedData=_reducerState$toJS.modifiedData,modifiedDZName=_reducerState$toJS.modifiedDZName,shouldCheckErrors=_reducerState$toJS.shouldCheckErrors;var _useState=(0,_react.useState)(id==='create'),_useState2=(0,_slicedToArray2["default"])(_useState,2),isCreatingEntry=_useState2[0],setIsCreatingEntry=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=(0,_slicedToArray2["default"])(_useState3,2),isSubmitting=_useState4[0],setIsSubmitting=_useState4[1];var currentContentTypeLayout=(0,_lodash.get)(allLayoutData,['contentType'],{});// This is used for the readonly mode when updating an entry
var allDynamicZoneFields=(0,_react.useMemo)(function(){var attributes=(0,_lodash.get)(currentContentTypeLayout,['schema','attributes'],{});var dynamicZoneFields=Object.keys(attributes).filter(function(attrName){return(0,_lodash.get)(attributes,[attrName,'type'],'')==='dynamiczone';});return dynamicZoneFields;},[currentContentTypeLayout]);var abortController=new AbortController();var signal=abortController.signal;var _useGlobalContext=(0,_strapiHelperPlugin.useGlobalContext)(),emitEvent=_useGlobalContext.emitEvent,formatMessage=_useGlobalContext.formatMessage;var userPermissions=(0,_strapiHelperPlugin.useUser)();var generatedPermissions=(0,_react.useMemo)(function(){return(0,_utils.generatePermissionsObject)(slug);},[slug]);var permissionsToApply=(0,_react.useMemo)(function(){var fieldsToPick=isCreatingEntry?['create']:['read','update'];return(0,_lodash.pick)(generatedPermissions,fieldsToPick);},[isCreatingEntry,generatedPermissions]);var _useUserPermissions=(0,_strapiHelperPlugin.useUserPermissions)(permissionsToApply),isLoadingForPermissions=_useUserPermissions.isLoading,_useUserPermissions$a=_useUserPermissions.allowedActions,canCreate=_useUserPermissions$a.canCreate,canRead=_useUserPermissions$a.canRead,canUpdate=_useUserPermissions$a.canUpdate;var _useMemo=(0,_react.useMemo)(function(){return(0,_utils2.getFieldsActionMatchingPermissions)(userPermissions,slug);},[userPermissions,slug]),createActionAllowedFields=_useMemo.createActionAllowedFields,readActionAllowedFields=_useMemo.readActionAllowedFields,updateActionAllowedFields=_useMemo.updateActionAllowedFields;var shouldRedirectToHomepageWhenCreatingEntry=(0,_react.useMemo)(function(){if(isLoadingForPermissions||isLoading){return false;}if(!isCreatingEntry){return false;}if(canCreate===false){return true;}return false;},[isLoadingForPermissions,isCreatingEntry,canCreate,isLoading]);var shouldRedirectToHomepageWhenEditingEntry=(0,_react.useMemo)(function(){if(isLoadingForPermissions||isLoading){return false;}if(isCreatingEntry){return false;}if(canRead===false&&canUpdate===false){return true;}return false;},[isLoadingForPermissions,isLoading,isCreatingEntry,canRead,canUpdate]);(0,_react.useEffect)(function(){if(!isLoading){checkFormErrors();}// eslint-disable-next-line react-hooks/exhaustive-deps
},[shouldCheckErrors]);(0,_react.useEffect)(function(){if(shouldRedirectToHomepageWhenEditingEntry){strapi.notification.info((0,_utils.getTrad)('permissions.not-allowed.update'));}},[shouldRedirectToHomepageWhenEditingEntry]);(0,_react.useEffect)(function(){if(shouldRedirectToHomepageWhenCreatingEntry){strapi.notification.info((0,_utils.getTrad)('permissions.not-allowed.create'));}},[shouldRedirectToHomepageWhenCreatingEntry]);(0,_react.useEffect)(function(){var fetchData=/*#__PURE__*/function(){var _ref2=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){var data,status;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return(0,_strapiHelperPlugin.request)(getRequestUrl("".concat(slug,"/").concat(id||'')),{method:'GET',signal:signal});case 3:data=_context.sent;dispatch({type:'GET_DATA_SUCCEEDED',data:(0,_utils2.removePasswordFieldsFromData)(data,allLayoutData.contentType,allLayoutData.components)});_context.next=23;break;case 7:_context.prev=7;_context.t0=_context["catch"](0);console.log(_context.t0);status=(0,_lodash.get)(_context.t0,'response.status',null);// The record does not exists
// Redirect the user to the previous page
if(!(id&&status===404)){_context.next=14;break;}push(from);return _context.abrupt("return");case 14:if(!(id&&status===403)){_context.next=18;break;}strapi.notification.info((0,_utils.getTrad)('permissions.not-allowed.update'));push(from);return _context.abrupt("return");case 18:if(id&&_context.t0.code!==20){strapi.notification.error("".concat(_pluginId["default"],".error.record.fetch"));}// Create a single type
if(!(!id&&status===404)){_context.next=22;break;}setIsCreatingEntry(true);return _context.abrupt("return");case 22:// Not allowed to update or read a ST
if(!id&&status===403){strapi.notification.info((0,_utils.getTrad)('permissions.not-allowed.update'));push(from);}case 23:case"end":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref2.apply(this,arguments);};}();var componentsDataStructure=Object.keys(allLayoutData.components).reduce(function(acc,current){acc[current]=(0,_utils2.createDefaultForm)((0,_lodash.get)(allLayoutData,['components',current,'schema','attributes'],{}),allLayoutData.components);return acc;},{});var contentTypeDataStructure=(0,_utils2.createDefaultForm)(currentContentTypeLayout.schema.attributes,allLayoutData.components);if(!isLoadingForPermissions){// Force state to be cleared when navigation from one entry to another
dispatch({type:'RESET_PROPS'});dispatch({type:'SET_DEFAULT_DATA_STRUCTURES',componentsDataStructure:componentsDataStructure,contentTypeDataStructure:contentTypeDataStructure});if(!isCreatingEntry){fetchData();}else{// Will create default form
dispatch({type:'SET_DEFAULT_MODIFIED_DATA_STRUCTURE',contentTypeDataStructure:contentTypeDataStructure});}}return function(){abortController.abort();};// eslint-disable-next-line react-hooks/exhaustive-deps
},[id,slug,isCreatingEntry,isLoadingForPermissions]);var addComponentToDynamicZone=(0,_react.useCallback)(function(keys,componentUid){var shouldCheckErrors=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;emitEvent('didAddComponentToDynamicZone');dispatch({type:'ADD_COMPONENT_TO_DYNAMIC_ZONE',keys:keys.split('.'),componentUid:componentUid,shouldCheckErrors:shouldCheckErrors});// eslint-disable-next-line react-hooks/exhaustive-deps
},[]);var addNonRepeatableComponentToField=(0,_react.useCallback)(function(keys,componentUid){dispatch({type:'ADD_NON_REPEATABLE_COMPONENT_TO_FIELD',keys:keys.split('.'),componentUid:componentUid});},[]);var addRelation=(0,_react.useCallback)(function(_ref3){var _ref3$target=_ref3.target,name=_ref3$target.name,value=_ref3$target.value;dispatch({type:'ADD_RELATION',keys:name.split('.'),value:value});},[]);var addRepeatableComponentToField=(0,_react.useCallback)(function(keys,componentUid){var shouldCheckErrors=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;dispatch({type:'ADD_REPEATABLE_COMPONENT_TO_FIELD',keys:keys.split('.'),componentUid:componentUid,shouldCheckErrors:shouldCheckErrors});},[]);var checkFormErrors=/*#__PURE__*/function(){var _ref4=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee2(){var dataToSet,schema,errors,updatedData,_args2=arguments;return _regenerator["default"].wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dataToSet=_args2.length>0&&_args2[0]!==undefined?_args2[0]:{};schema=(0,_utils2.createYupSchema)(currentContentTypeLayout,{components:(0,_lodash.get)(allLayoutData,'components',{})},isCreatingEntry);errors={};updatedData=(0,_lodash.cloneDeep)(modifiedData);if(!(0,_lodash.isEmpty)(updatedData)){(0,_lodash.set)(updatedData,dataToSet.path,dataToSet.value);}_context2.prev=5;_context2.next=8;return schema.validate(updatedData,{abortEarly:false});case 8:_context2.next=14;break;case 10:_context2.prev=10;_context2.t0=_context2["catch"](5);errors=(0,_utils2.getYupInnerErrors)(_context2.t0);if(modifiedDZName){errors=Object.keys(errors).reduce(function(acc,current){var dzName=current.split('.')[0];if(dzName!==modifiedDZName){acc[current]=errors[current];}return acc;},{});}case 14:dispatch({type:'SET_ERRORS',errors:errors});case 15:case"end":return _context2.stop();}}},_callee2,null,[[5,10]]);}));return function checkFormErrors(){return _ref4.apply(this,arguments);};}();var handleChange=(0,_react.useCallback)(function(_ref5){var _ref5$target=_ref5.target,name=_ref5$target.name,value=_ref5$target.value,type=_ref5$target.type;var shouldSetInitialValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var inputValue=value;// Empty string is not a valid date,
// Set the date to null when it's empty
if(type==='date'&&value===''){inputValue=null;}if(type==='password'&&!value){dispatch({type:'REMOVE_PASSWORD_FIELD',keys:name.split('.')});return;}// Allow to reset enum
if(type==='select-one'&&value===''){inputValue=null;}// Allow to reset number input
if(type==='number'&&value===''){inputValue=null;}dispatch({type:'ON_CHANGE',keys:name.split('.'),value:inputValue,shouldSetInitialValue:shouldSetInitialValue});},[]);var handleSubmit=/*#__PURE__*/function(){var _ref6=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee3(e){var schema,filesToUpload,cleanedData,formData,headers,method,endPoint,error,errors,formattedErrors,_errors;return _regenerator["default"].wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();// Create yup schema
schema=(0,_utils2.createYupSchema)(currentContentTypeLayout,{components:(0,_lodash.get)(allLayoutData,'components',{})},isCreatingEntry);_context3.prev=2;_context3.next=5;return schema.validate(modifiedData,{abortEarly:false});case 5:// Show a loading button in the EditView/Header.js
setIsSubmitting(true);// Set the loading state in the plugin header
filesToUpload=(0,_utils2.getFilesToUpload)(modifiedData);// Remove keys that are not needed
// Clean relations
cleanedData=(0,_utils2.cleanData)((0,_lodash.cloneDeep)(modifiedData),currentContentTypeLayout,allLayoutData.components);formData=new FormData();formData.append('data',JSON.stringify(cleanedData));Object.keys(filesToUpload).forEach(function(key){var files=filesToUpload[key];files.forEach(function(file){formData.append("files.".concat(key),file);});});// Change the request helper default headers so we can pass a FormData
headers={};method=isCreatingEntry?'POST':'PUT';// All endpoints for creation and edition are the same for both content types
// But, the id from the URL didn't exist for the single types.
// So, we use the id of the modified data if this one is setted.
if(isCreatingEntry){endPoint=slug;}else if(modifiedData){endPoint="".concat(slug,"/").concat(modifiedData.id);}else{endPoint="".concat(slug,"/").concat(id);}emitEvent(isCreatingEntry?'willCreateEntry':'willEditEntry');_context3.prev=15;_context3.next=18;return(0,_strapiHelperPlugin.request)(getRequestUrl(endPoint),{method:method,headers:headers,body:formData,signal:signal},false,false);case 18:emitEvent(isCreatingEntry?'didCreateEntry':'didEditEntry');setIsSubmitting(false);dispatch({type:'SUBMIT_SUCCESS'});strapi.notification.success("".concat(_pluginId["default"],".success.record.save"));if(isSingleType){setIsCreatingEntry(false);}else{redirectToPreviousPage();}_context3.next=32;break;case 25:_context3.prev=25;_context3.t0=_context3["catch"](15);console.error({err:_context3.t0});setIsSubmitting(false);error=(0,_lodash.get)(_context3.t0,['response','payload','message','0','messages','0','id'],'SERVER ERROR');// Handle validations errors from the API
if(error==='ValidationError'){errors=(0,_lodash.get)(_context3.t0,['response','payload','data','0','errors'],{});formattedErrors=Object.keys(errors).reduce(function(acc,current){acc[current]={id:errors[current][0]};return acc;},{});dispatch({type:'SUBMIT_ERRORS',errors:formattedErrors});}else{emitEvent(isCreatingEntry?'didNotCreateEntry':'didNotEditEntry',{error:_context3.t0});}strapi.notification.error(error);case 32:_context3.next=40;break;case 34:_context3.prev=34;_context3.t1=_context3["catch"](2);console.error({err:_context3.t1});_errors=(0,_utils2.getYupInnerErrors)(_context3.t1);setIsSubmitting(false);dispatch({type:'SUBMIT_ERRORS',errors:_errors});case 40:case"end":return _context3.stop();}}},_callee3,null,[[2,34],[15,25]]);}));return function handleSubmit(_x){return _ref6.apply(this,arguments);};}();var shouldCheckDZErrors=(0,_react.useCallback)(function(dzName){var doesDZHaveError=Object.keys(formErrors).some(function(key){return key.split('.')[0]===dzName;});var shouldCheckErrors=!(0,_lodash.isEmpty)(formErrors)&&doesDZHaveError;return shouldCheckErrors;},[formErrors]);var moveComponentDown=(0,_react.useCallback)(function(dynamicZoneName,currentIndex){emitEvent('changeComponentsOrder');dispatch({type:'MOVE_COMPONENT_DOWN',dynamicZoneName:dynamicZoneName,currentIndex:currentIndex,shouldCheckErrors:shouldCheckDZErrors(dynamicZoneName)});// eslint-disable-next-line react-hooks/exhaustive-deps
},// eslint-disable-next-line react-hooks/exhaustive-deps
[shouldCheckDZErrors]);var moveComponentUp=(0,_react.useCallback)(function(dynamicZoneName,currentIndex){emitEvent('changeComponentsOrder');dispatch({type:'MOVE_COMPONENT_UP',dynamicZoneName:dynamicZoneName,currentIndex:currentIndex,shouldCheckErrors:shouldCheckDZErrors(dynamicZoneName)});},// eslint-disable-next-line react-hooks/exhaustive-deps
[shouldCheckDZErrors]);var moveComponentField=(0,_react.useCallback)(function(pathToComponent,dragIndex,hoverIndex){dispatch({type:'MOVE_COMPONENT_FIELD',pathToComponent:pathToComponent,dragIndex:dragIndex,hoverIndex:hoverIndex});},[]);var moveRelation=(0,_react.useCallback)(function(dragIndex,overIndex,name){dispatch({type:'MOVE_FIELD',dragIndex:dragIndex,overIndex:overIndex,keys:name.split('.')});},[]);var onRemoveRelation=(0,_react.useCallback)(function(keys){dispatch({type:'REMOVE_RELATION',keys:keys});},[]);var removeComponentFromDynamicZone=(0,_react.useCallback)(function(dynamicZoneName,index){emitEvent('removeComponentFromDynamicZone');dispatch({type:'REMOVE_COMPONENT_FROM_DYNAMIC_ZONE',dynamicZoneName:dynamicZoneName,index:index,shouldCheckErrors:shouldCheckDZErrors(dynamicZoneName)});// eslint-disable-next-line react-hooks/exhaustive-deps
},[]);var removeComponentFromField=(0,_react.useCallback)(function(keys,componentUid){dispatch({type:'REMOVE_COMPONENT_FROM_FIELD',keys:keys.split('.'),componentUid:componentUid});},[]);var removeRepeatableField=(0,_react.useCallback)(function(keys,componentUid){dispatch({type:'REMOVE_REPEATABLE_FIELD',keys:keys.split('.'),componentUid:componentUid});},[]);var deleteSuccess=function deleteSuccess(){dispatch({type:'DELETE_SUCCEEDED'});};var resetData=function resetData(){dispatch({type:'RESET_DATA'});};var clearData=function clearData(){if(isSingleType){setIsCreatingEntry(true);}dispatch({type:'SET_DEFAULT_MODIFIED_DATA_STRUCTURE',contentTypeDataStructure:{}});};var triggerFormValidation=function triggerFormValidation(){dispatch({type:'TRIGGER_FORM_VALIDATION'});};var overlayBlockerParams=(0,_react.useMemo)(function(){return{children:/*#__PURE__*/_react["default"].createElement("div",null),noGradient:true};},[]);// Redirect the user to the homepage if he is not allowed to create a document
if(shouldRedirectToHomepageWhenCreatingEntry){return/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Redirect,{to:"/"});}// Redirect the user to the previous page if he is not allowed to read/update a document
if(shouldRedirectToHomepageWhenEditingEntry){return/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Redirect,{to:from});}return/*#__PURE__*/_react["default"].createElement(_EditViewDataManager["default"].Provider,{value:{addComponentToDynamicZone:addComponentToDynamicZone,addNonRepeatableComponentToField:addNonRepeatableComponentToField,addRelation:addRelation,addRepeatableComponentToField:addRepeatableComponentToField,allLayoutData:allLayoutData,allDynamicZoneFields:allDynamicZoneFields,checkFormErrors:checkFormErrors,clearData:clearData,createActionAllowedFields:createActionAllowedFields,deleteSuccess:deleteSuccess,formErrors:formErrors,initialData:initialData,isCreatingEntry:isCreatingEntry,isSingleType:isSingleType,isSubmitting:isSubmitting,layout:currentContentTypeLayout,modifiedData:modifiedData,moveComponentDown:moveComponentDown,moveComponentField:moveComponentField,moveComponentUp:moveComponentUp,moveRelation:moveRelation,onChange:handleChange,onRemoveRelation:onRemoveRelation,readActionAllowedFields:readActionAllowedFields,redirectToPreviousPage:redirectToPreviousPage,removeComponentFromDynamicZone:removeComponentFromDynamicZone,removeComponentFromField:removeComponentFromField,removeRepeatableField:removeRepeatableField,resetData:resetData,slug:slug,triggerFormValidation:triggerFormValidation,updateActionAllowedFields:updateActionAllowedFields}},/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.OverlayBlocker,(0,_extends2["default"])({key:"overlayBlocker",isOpen:isSubmitting},overlayBlockerParams)),isLoading?/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.LoadingIndicatorPage,null):/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Prompt,{when:!(0,_lodash.isEqual)(modifiedData,initialData),message:formatMessage({id:'global.prompt.unsaved'})}),/*#__PURE__*/_react["default"].createElement("form",{onSubmit:handleSubmit},children))));};EditViewDataManagerProvider.defaultProps={redirectToPreviousPage:function redirectToPreviousPage(){}};EditViewDataManagerProvider.propTypes={allLayoutData:_propTypes["default"].object.isRequired,children:_propTypes["default"].node.isRequired,isSingleType:_propTypes["default"].bool.isRequired,redirectToPreviousPage:_propTypes["default"].func,slug:_propTypes["default"].string.isRequired};var _default=EditViewDataManagerProvider;exports["default"]=_default;

/***/ }),

/***/ 2646:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;function init(initialState){return initialState;}var _default=init;exports["default"]=_default;

/***/ }),

/***/ 2647:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.initialState=exports["default"]=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(16));var _toConsumableArray2=_interopRequireDefault(__webpack_require__(27));var _immutable=__webpack_require__(51);var initialState=(0,_immutable.fromJS)({componentsDataStructure:{},contentTypeDataStructure:{},formErrors:{},isLoading:true,initialData:{},modifiedData:{},shouldCheckErrors:false,modifiedDZName:null});exports.initialState=initialState;var reducer=function reducer(state,action){switch(action.type){case'ADD_NON_REPEATABLE_COMPONENT_TO_FIELD':return state.updateIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),function(){var defaultDataStructure=state.getIn(['componentsDataStructure',action.componentUid]);return(0,_immutable.fromJS)(defaultDataStructure);});case'ADD_REPEATABLE_COMPONENT_TO_FIELD':{return state.updateIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),function(list){var defaultDataStructure=state.getIn(['componentsDataStructure',action.componentUid]);if(list){return list.push(defaultDataStructure);}return(0,_immutable.fromJS)([defaultDataStructure]);}).update('shouldCheckErrors',function(v){if(action.shouldCheckErrors===true){return!v;}return v;});}case'ADD_COMPONENT_TO_DYNAMIC_ZONE':return state.updateIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),function(list){var defaultDataStructure=state.getIn(['componentsDataStructure',action.componentUid]).set('__component',action.componentUid);if(list){return list.push(defaultDataStructure);}return(0,_immutable.fromJS)([defaultDataStructure]);}).update('modifiedDZName',function(){return action.keys[0];}).update('shouldCheckErrors',function(v){if(action.shouldCheckErrors===true){return!v;}return v;});case'ADD_RELATION':return state.updateIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),function(list){if(!action.value){return list;}var el=action.value[0].value;if(list){return list.push((0,_immutable.fromJS)(el));}return(0,_immutable.fromJS)([el]);});case'GET_DATA_SUCCEEDED':return state.update('initialData',function(){return(0,_immutable.fromJS)(action.data);}).update('modifiedData',function(){return(0,_immutable.fromJS)(action.data);}).update('isLoading',function(){return false;});case'MOVE_COMPONENT_FIELD':return state.updateIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.pathToComponent)),function(list){return list["delete"](action.dragIndex).insert(action.hoverIndex,state.getIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.pathToComponent),[action.dragIndex])));});case'MOVE_COMPONENT_UP':return state.update('shouldCheckErrors',function(v){if(action.shouldCheckErrors){return!v;}return v;}).updateIn(['modifiedData',action.dynamicZoneName],function(list){return list["delete"](action.currentIndex).insert(action.currentIndex-1,state.getIn(['modifiedData',action.dynamicZoneName,action.currentIndex]));});case'MOVE_COMPONENT_DOWN':return state.update('shouldCheckErrors',function(v){if(action.shouldCheckErrors){return!v;}return v;}).updateIn(['modifiedData',action.dynamicZoneName],function(list){return list["delete"](action.currentIndex).insert(action.currentIndex+1,state.getIn(['modifiedData',action.dynamicZoneName,action.currentIndex]));});case'MOVE_FIELD':return state.updateIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),function(list){return list["delete"](action.dragIndex).insert(action.overIndex,list.get(action.dragIndex));});case'ON_CHANGE':{var newState=state;var _action$keys=(0,_slicedToArray2["default"])(action.keys,1),nonRepeatableComponentKey=_action$keys[0];// This is used to set the initialData for inputs
// that needs an asynchronous initial value like the UID field
// This is just a temporary patch.
// TODO : Refactor the default form creation (workflow) to accept async default values.
if(action.shouldSetInitialValue){newState=state.updateIn(['initialData'].concat((0,_toConsumableArray2["default"])(action.keys)),function(){return action.value;});}if(action.keys.length===2&&state.getIn(['modifiedData',nonRepeatableComponentKey])===null){newState=newState.updateIn(['modifiedData',nonRepeatableComponentKey],function(){return(0,_immutable.fromJS)({});});}return newState.updateIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),function(){return action.value;});}case'REMOVE_COMPONENT_FROM_DYNAMIC_ZONE':return state.update('shouldCheckErrors',function(v){if(action.shouldCheckErrors){return!v;}return v;}).deleteIn(['modifiedData',action.dynamicZoneName,action.index]);case'REMOVE_COMPONENT_FROM_FIELD':{var componentPathToRemove=['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys));return state.updateIn(componentPathToRemove,function(){return null;});}case'REMOVE_PASSWORD_FIELD':{return state.removeIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)));}case'REMOVE_REPEATABLE_FIELD':{var _componentPathToRemove=['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys));return state.update('shouldCheckErrors',function(v){var hasErrors=state.get('formErrors').keySeq().size>0;if(hasErrors){return!v;}return v;}).deleteIn(_componentPathToRemove);}case'REMOVE_RELATION':return state.removeIn(['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys.split('.'))));case'RESET_DATA':return state.update('modifiedData',function(){return state.get('initialData');}).update('formErrors',function(){return(0,_immutable.fromJS)({});});case'RESET_PROPS':return initialState;case'SET_DEFAULT_DATA_STRUCTURES':return state.update('componentsDataStructure',function(){return(0,_immutable.fromJS)(action.componentsDataStructure);}).update('contentTypeDataStructure',function(){return(0,_immutable.fromJS)(action.contentTypeDataStructure);});case'SET_DEFAULT_MODIFIED_DATA_STRUCTURE':return state.update('isLoading',function(){return false;}).update('initialData',function(){return(0,_immutable.fromJS)(action.contentTypeDataStructure);}).update('modifiedData',function(){return(0,_immutable.fromJS)(action.contentTypeDataStructure);});case'SET_ERRORS':return state.update('modifiedDZName',function(){return null;}).update('formErrors',function(){return(0,_immutable.fromJS)(action.errors);});case'SUBMIT_ERRORS':return state.update('formErrors',function(){return(0,_immutable.fromJS)(action.errors);}).update('shouldShowLoadingState',function(){return false;});case'SUBMIT_SUCCESS':case'DELETE_SUCCEEDED':return state.update('isLoading',function(){return false;}).update('initialData',function(){return state.get('modifiedData');});case'TRIGGER_FORM_VALIDATION':return state.update('shouldCheckErrors',function(v){var hasErrors=state.get('formErrors').keySeq().size>0;if(hasErrors){return!v;}return v;});default:return state;}};var _default=reducer;exports["default"]=_default;

/***/ }),

/***/ 2648:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"cleanData",{enumerable:true,get:function get(){return _cleanData["default"];}});Object.defineProperty(exports,"createDefaultForm",{enumerable:true,get:function get(){return _createDefaultForm["default"];}});Object.defineProperty(exports,"getFieldsActionMatchingPermissions",{enumerable:true,get:function get(){return _getFieldsActionMatchingPermissions["default"];}});Object.defineProperty(exports,"getFilesToUpload",{enumerable:true,get:function get(){return _getFilesToUpload["default"];}});Object.defineProperty(exports,"getYupInnerErrors",{enumerable:true,get:function get(){return _getYupInnerErrors["default"];}});Object.defineProperty(exports,"createYupSchema",{enumerable:true,get:function get(){return _schema["default"];}});Object.defineProperty(exports,"removePasswordFieldsFromData",{enumerable:true,get:function get(){return _removePasswordFieldsFromData["default"];}});var _cleanData=_interopRequireDefault(__webpack_require__(2649));var _createDefaultForm=_interopRequireDefault(__webpack_require__(2650));var _getFieldsActionMatchingPermissions=_interopRequireDefault(__webpack_require__(2651));var _getFilesToUpload=_interopRequireDefault(__webpack_require__(2652));var _getYupInnerErrors=_interopRequireDefault(__webpack_require__(2653));var _schema=_interopRequireDefault(__webpack_require__(2654));var _removePasswordFieldsFromData=_interopRequireDefault(__webpack_require__(2655));

/***/ }),

/***/ 2649:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=exports.helperCleanData=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(27));var _lodash=__webpack_require__(9);/* eslint-disable indent */var cleanData=function cleanData(retrievedData,currentSchema,componentsSchema){var getType=function getType(schema,attrName){return(0,_lodash.get)(schema,['attributes',attrName,'type'],'');};var getOtherInfos=function getOtherInfos(schema,arr){return(0,_lodash.get)(schema,['attributes'].concat((0,_toConsumableArray2["default"])(arr)),'');};var recursiveCleanData=function recursiveCleanData(data,schema){return Object.keys(data).reduce(function(acc,current){var attrType=getType(schema.schema,current);var value=(0,_lodash.get)(data,current);var component=getOtherInfos(schema.schema,[current,'component']);var isRepeatable=getOtherInfos(schema.schema,[current,'repeatable']);var cleanedData;switch(attrType){case'json':try{cleanedData=JSON.parse(value);}catch(err){cleanedData=value;}break;case'date':case'datetime':cleanedData=value&&value._isAMomentObject===true?value.toISOString():value;break;case'media':if(getOtherInfos(schema.schema,[current,'multiple'])===true){cleanedData=value?helperCleanData(value.filter(function(file){return!(file instanceof File);}),'id'):null;}else{cleanedData=(0,_lodash.get)(value,0)instanceof File?null:(0,_lodash.get)(value,'id',null);}break;case'component':if(isRepeatable){cleanedData=value?value.map(function(data){var subCleanedData=recursiveCleanData(data,componentsSchema[component]);return subCleanedData;}):value;}else{cleanedData=value?recursiveCleanData(value,componentsSchema[component]):value;}break;case'dynamiczone':cleanedData=value.map(function(componentData){var subCleanedData=recursiveCleanData(componentData,componentsSchema[componentData.__component]);return subCleanedData;});break;default:cleanedData=helperCleanData(value,'id');}acc[current]=cleanedData;return acc;},{});};return recursiveCleanData(retrievedData,currentSchema);};var helperCleanData=function helperCleanData(value,key){if((0,_lodash.isArray)(value)){return value.map(function(obj){return obj[key]?obj[key]:obj;});}if((0,_lodash.isObject)(value)){return value[key];}return value;};exports.helperCleanData=helperCleanData;var _default=cleanData;exports["default"]=_default;

/***/ }),

/***/ 2650:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _lodash=__webpack_require__(9);var createDefaultForm=function createDefaultForm(attributes,allComponentsSchema){return Object.keys(attributes).reduce(function(acc,current){var attribute=(0,_lodash.get)(attributes,[current],{});var defaultValue=attribute["default"],component=attribute.component,type=attribute.type,required=attribute.required,min=attribute.min,repeatable=attribute.repeatable;if(type==='json'){acc[current]=null;}if(type==='json'&&required===true){acc[current]={};}if(defaultValue!==undefined){acc[current]=defaultValue;}if(type==='component'){var currentComponentSchema=(0,_lodash.get)(allComponentsSchema,[component,'schema','attributes'],{});var currentComponentDefaultForm=createDefaultForm(currentComponentSchema,allComponentsSchema);if(required===true){acc[current]=repeatable===true?[]:currentComponentDefaultForm;}if(min&&repeatable===true&&required){acc[current]=[];for(var i=0;i<min;i+=1){acc[current].push(currentComponentDefaultForm);}}}if(type==='dynamiczone'){if(required===true){acc[current]=[];}}return acc;},{});};var _default=createDefaultForm;exports["default"]=_default;

/***/ }),

/***/ 2651:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _lodash=__webpack_require__(9);var _strapiHelperPlugin=__webpack_require__(8);var getFieldsActionMatchingPermissions=function getFieldsActionMatchingPermissions(userPermissions,slug){var getMatchingPermissions=function getMatchingPermissions(action){var matched=(0,_strapiHelperPlugin.findMatchingPermissions)(userPermissions,[{action:"plugins::content-manager.explorer.".concat(action),subject:slug}]);return(0,_lodash.uniq)((0,_lodash.flatMap)(matched,'fields'));};return{createActionAllowedFields:getMatchingPermissions('create'),readActionAllowedFields:getMatchingPermissions('read'),updateActionAllowedFields:getMatchingPermissions('update')};};var _default=getFieldsActionMatchingPermissions;exports["default"]=_default;

/***/ }),

/***/ 2652:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(10));var _lodash=__webpack_require__(9);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var getFilesToUpload=function getFilesToUpload(data){var prefix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return Object.keys(data).reduce(function(acc,current){var currentData=data[current];var path=prefix?"".concat(prefix,".").concat(current):current;var filterFiles=function filterFiles(files){return files.filter(function(file){return file instanceof File;});};var hasFiles=function hasFiles(data){return data.some(function(file){return file instanceof File;});};var hasFile=function hasFile(data){return(0,_lodash.get)(data,0,null)instanceof File;};if((0,_lodash.isArray)(currentData)&&hasFiles(currentData)){acc[path]=filterFiles(currentData);}if((0,_lodash.isObject)(currentData)&&!(0,_lodash.isArray)(currentData)&&hasFile(currentData)){var currentFile=(0,_lodash.get)(currentData,0);acc[path]=[currentFile];}if((0,_lodash.isArray)(currentData)&&!hasFiles(currentData)){return _objectSpread(_objectSpread({},acc),getFilesToUpload(currentData,path));}if((0,_lodash.isObject)(currentData)&&!(0,_lodash.isArray)(currentData)&&!hasFile(currentData)){return _objectSpread(_objectSpread({},acc),getFilesToUpload(currentData,path));}return acc;},{});};var _default=getFilesToUpload;exports["default"]=_default;

/***/ }),

/***/ 2653:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _lodash=__webpack_require__(9);var getYupInnerErrors=function getYupInnerErrors(error){return(0,_lodash.get)(error,'inner',[]).reduce(function(acc,curr){acc[curr.path.split('[').join('.').split(']').join('')]={id:curr.message};return acc;},{});};var _default=getYupInnerErrors;exports["default"]=_default;

/***/ }),

/***/ 2654:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _lodash=__webpack_require__(9);var _moment=_interopRequireDefault(__webpack_require__(31));var yup=_interopRequireWildcard(__webpack_require__(61));var _strapiHelperPlugin=__webpack_require__(8);yup.addMethod(yup.mixed,'defined',function(){return this.test('defined',_strapiHelperPlugin.translatedErrors.required,function(value){return value!==undefined;});});yup.addMethod(yup.array,'notEmptyMin',function(min){return this.test('notEmptyMin',_strapiHelperPlugin.translatedErrors.min,function(value){if((0,_lodash.isEmpty)(value)){return true;}return value.length>=min;});});yup.addMethod(yup.string,'isInferior',function(message,max){return this.test('isInferior',message,function(value){if(!value){return true;}if(Number.isNaN((0,_lodash.toNumber)(value))){return true;}return(0,_lodash.toNumber)(max)>=(0,_lodash.toNumber)(value);});});yup.addMethod(yup.string,'isSuperior',function(message,min){return this.test('isSuperior',message,function(value){if(!value){return true;}if(Number.isNaN((0,_lodash.toNumber)(value))){return true;}return(0,_lodash.toNumber)(value)>=(0,_lodash.toNumber)(min);});});var getAttributes=function getAttributes(data){return(0,_lodash.get)(data,['schema','attributes'],{});};var createYupSchema=function createYupSchema(model,_ref){var components=_ref.components;var isCreatingEntry=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var attributes=getAttributes(model);return yup.object().shape(Object.keys(attributes).reduce(function(acc,current){var attribute=attributes[current];if(attribute.type!=='relation'&&attribute.type!=='component'&&attribute.type!=='dynamiczone'){var formatted=createYupSchemaAttribute(attribute.type,attribute,isCreatingEntry);acc[current]=formatted;}if(attribute.type==='relation'){acc[current]=['oneWay','oneToOne','manyToOne','oneToManyMorph','oneToOneMorph'].includes(attribute.relationType)?yup.object().nullable():yup.array().nullable();}if(attribute.type==='component'){var componentFieldSchema=createYupSchema(components[attribute.component],{components:components});if(attribute.repeatable===true){var min=attribute.min,max=attribute.max,required=attribute.required;var _componentSchema=yup.lazy(function(value){var baseSchema=yup.array().of(componentFieldSchema);if(min){if(required){baseSchema=baseSchema.min(min,_strapiHelperPlugin.translatedErrors.min);}else if(required!==true&&(0,_lodash.isEmpty)(value)){baseSchema=baseSchema.nullable();}else{baseSchema=baseSchema.min(min,_strapiHelperPlugin.translatedErrors.min);}}if(max){baseSchema=baseSchema.max(max,_strapiHelperPlugin.translatedErrors.max);}return baseSchema;});acc[current]=_componentSchema;return acc;}var componentSchema=yup.lazy(function(obj){if(obj!==undefined){return attribute.required===true?componentFieldSchema.defined():componentFieldSchema.nullable();}return attribute.required===true?yup.object().defined():yup.object().nullable();});acc[current]=componentSchema;return acc;}if(attribute.type==='dynamiczone'){var dynamicZoneSchema=yup.array().of(yup.lazy(function(_ref2){var __component=_ref2.__component;return createYupSchema(components[__component],{components:components});}));var _max=attribute.max,_min=attribute.min;if(attribute.required){// dynamicZoneSchema = dynamicZoneSchema.required();
dynamicZoneSchema=dynamicZoneSchema.test('required',_strapiHelperPlugin.translatedErrors.required,function(value){if(isCreatingEntry){return value!==null||value!==undefined;}if(value===undefined){return true;}return value!==null;});if(_min){dynamicZoneSchema=dynamicZoneSchema.test('min',_strapiHelperPlugin.translatedErrors.min,function(value){if(isCreatingEntry){return value&&value.length>0;}if(value===undefined){return true;}return value!==null&&value.length>0;}).test('required',_strapiHelperPlugin.translatedErrors.required,function(value){if(isCreatingEntry){return value!==null||value!==undefined;}if(value===undefined){return true;}return value!==null;});}}else{// eslint-disable-next-line no-lonely-if
if(_min){dynamicZoneSchema=dynamicZoneSchema.notEmptyMin(_min);}}if(_max){dynamicZoneSchema=dynamicZoneSchema.max(_max,_strapiHelperPlugin.translatedErrors.max);}acc[current]=dynamicZoneSchema;}return acc;},{}));};var createYupSchemaAttribute=function createYupSchemaAttribute(type,validations,isCreatingEntry){var schema=yup.mixed();var regex=(0,_lodash.get)(validations,'regex',null);delete validations.regex;if(regex){validations.regex=new RegExp(regex);}if(['string','uid','text','richtext','email','password','enumeration'].includes(type)){schema=yup.string();}if(type==='json'){schema=yup.mixed(_strapiHelperPlugin.translatedErrors.json).test('isJSON',_strapiHelperPlugin.translatedErrors.json,function(value){if(value===undefined){return true;}if((0,_lodash.isNumber)(value)||(0,_lodash.isNull)(value)||(0,_lodash.isObject)(value)||(0,_lodash.isArray)(value)){return true;}try{JSON.parse(value);return true;}catch(err){return false;}}).nullable();}if(type==='email'){schema=schema.email(_strapiHelperPlugin.translatedErrors.email);}if(['number','integer','biginteger','float','decimal'].includes(type)){schema=yup.number().transform(function(cv){return(0,_lodash.isNaN)(cv)?undefined:cv;}).typeError();}if(['date','datetime'].includes(type)){schema=yup.date();}if(type==='biginteger'){schema=yup.string().matches(/^\d*$/);}Object.keys(validations).forEach(function(validation){var validationValue=validations[validation];if(!!validationValue||!(0,_lodash.isBoolean)(validationValue)&&Number.isInteger(Math.floor(validationValue))||validationValue===0){switch(validation){case'required':{if(type==='password'&&isCreatingEntry){schema=schema.required(_strapiHelperPlugin.translatedErrors.required);}if(type!=='password'){if(isCreatingEntry){schema=schema.required(_strapiHelperPlugin.translatedErrors.required);}else{schema=schema.test('required',_strapiHelperPlugin.translatedErrors.required,function(value){// Field is not touched and the user is editing the entry
if(value===undefined){return true;}if(['number','integer','biginteger','float','decimal'].includes(type)){if(value===0){return true;}return!!value;}if(['date','datetime'].includes(type)){return(0,_moment["default"])(value)._isValid===true;}if(type==='boolean'){return value!==undefined;}return!(0,_lodash.isEmpty)(value);});}}break;}case'max':{if(type==='biginteger'){schema=schema.isInferior(_strapiHelperPlugin.translatedErrors.max,validationValue);}else{schema=schema.max(validationValue,_strapiHelperPlugin.translatedErrors.max);}break;}case'maxLength':schema=schema.max(validationValue,_strapiHelperPlugin.translatedErrors.maxLength);break;case'min':{if(type==='biginteger'){schema=schema.isSuperior(_strapiHelperPlugin.translatedErrors.min,validationValue);}else{schema=schema.min(validationValue,_strapiHelperPlugin.translatedErrors.min);}break;}case'minLength':schema=schema.min(validationValue,_strapiHelperPlugin.translatedErrors.minLength);break;case'regex':schema=schema.matches(validationValue,_strapiHelperPlugin.translatedErrors.regex);break;case'lowercase':if(['text','textarea','email','string'].includes(type)){schema=schema.strict().lowercase();}break;case'uppercase':if(['text','textarea','email','string'].includes(type)){schema=schema.strict().uppercase();}break;case'positive':if(['number','integer','bigint','float','decimal'].includes(type)){schema=schema.positive();}break;case'negative':if(['number','integer','bigint','float','decimal'].includes(type)){schema=schema.negative();}break;default:schema=schema.nullable();}}});return schema;};var _default=createYupSchema;exports["default"]=_default;

/***/ }),

/***/ 2655:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.getOtherInfos=exports.getType=exports["default"]=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(27));var _lodash=__webpack_require__(9);var getType=function getType(schema,attrName){return(0,_lodash.get)(schema,['attributes',attrName,'type'],'');};exports.getType=getType;var getOtherInfos=function getOtherInfos(schema,arr){return(0,_lodash.get)(schema,['attributes'].concat((0,_toConsumableArray2["default"])(arr)),'');};exports.getOtherInfos=getOtherInfos;var removePasswordFieldsFromData=function removePasswordFieldsFromData(data,contentTypeSchema,componentSchema){var recursiveCleanData=function recursiveCleanData(data,schema){return Object.keys(data).reduce(function(acc,current){var attrType=getType(schema.schema,current);var value=(0,_lodash.get)(data,current);var component=getOtherInfos(schema.schema,[current,'component']);var isRepeatable=getOtherInfos(schema.schema,[current,'repeatable']);if(attrType==='dynamiczone'){acc[current]=value.map(function(componentValue){var subCleanedData=recursiveCleanData(componentValue,componentSchema[componentValue.__component]);return subCleanedData;});return acc;}if(attrType==='component'){if(isRepeatable){/* eslint-disable indent */acc[current]=value?value.map(function(compoData){var subCleanedData=recursiveCleanData(compoData,componentSchema[component]);return subCleanedData;}):value;/* eslint-enable indent */}else{acc[current]=value?recursiveCleanData(value,componentSchema[component]):value;}return acc;}if(attrType!=='password'){acc[current]=value;}return acc;},{});};return recursiveCleanData(data,contentTypeSchema);};var _default=removePasswordFieldsFromData;exports["default"]=_default;

/***/ }),

/***/ 2656:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(29));var _react=_interopRequireDefault(__webpack_require__(1));var _propTypes=_interopRequireDefault(__webpack_require__(2));var _EditView=_interopRequireDefault(__webpack_require__(2522));function EditViewProvider(_ref){var children=_ref.children,rest=(0,_objectWithoutProperties2["default"])(_ref,["children"]);return/*#__PURE__*/_react["default"].createElement(_EditView["default"].Provider,{value:rest},children);}EditViewProvider.propTypes={children:_propTypes["default"].node.isRequired};var _default=EditViewProvider;exports["default"]=_default;

/***/ }),

/***/ 2657:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireWildcard=__webpack_require__(5);var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(30));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(32));var _slicedToArray2=_interopRequireDefault(__webpack_require__(16));var _react=_interopRequireWildcard(__webpack_require__(1));var _reactIntl=__webpack_require__(14);var _custom=__webpack_require__(43);var _lodash=__webpack_require__(9);var _strapiHelperPlugin=__webpack_require__(8);var _pluginId=_interopRequireDefault(__webpack_require__(113));var _useDataManager2=_interopRequireDefault(__webpack_require__(2487));var _useEditView2=_interopRequireDefault(__webpack_require__(2491));var getRequestUrl=function getRequestUrl(path){return"/".concat(_pluginId["default"],"/explorer/").concat(path);};var Header=function Header(){var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),showWarningCancel=_useState2[0],setWarningCancel=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=(0,_slicedToArray2["default"])(_useState3,2),showWarningDelete=_useState4[0],setWarningDelete=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=(0,_slicedToArray2["default"])(_useState5,2),didDeleteEntry=_useState6[0],setDidDeleteEntry=_useState6[1];var _useState7=(0,_react.useState)(false),_useState8=(0,_slicedToArray2["default"])(_useState7,2),isModalConfirmButtonLoading=_useState8[0],setIsModalConfirmButtonLoading=_useState8[1];var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var formatMessageRef=(0,_react.useRef)(formatMessage);var _useGlobalContext=(0,_strapiHelperPlugin.useGlobalContext)(),emitEvent=_useGlobalContext.emitEvent;var _useDataManager=(0,_useDataManager2["default"])(),initialData=_useDataManager.initialData,isCreatingEntry=_useDataManager.isCreatingEntry,isSingleType=_useDataManager.isSingleType,isSubmitting=_useDataManager.isSubmitting,layout=_useDataManager.layout,modifiedData=_useDataManager.modifiedData,redirectToPreviousPage=_useDataManager.redirectToPreviousPage,resetData=_useDataManager.resetData,slug=_useDataManager.slug,clearData=_useDataManager.clearData;var _useEditView=(0,_useEditView2["default"])(),_useEditView$allowedA=_useEditView.allowedActions,canDelete=_useEditView$allowedA.canDelete,canUpdate=_useEditView$allowedA.canUpdate,canCreate=_useEditView$allowedA.canCreate;var currentContentTypeMainField=(0,_react.useMemo)(function(){return(0,_lodash.get)(layout,['settings','mainField'],'id');},[layout]);var currentContentTypeName=(0,_react.useMemo)(function(){return(0,_lodash.get)(layout,['schema','info','name']);},[layout]);var didChangeData=(0,_react.useMemo)(function(){return!(0,_lodash.isEqual)(initialData,modifiedData)||isCreatingEntry&&!(0,_lodash.isEmpty)(modifiedData);},[initialData,isCreatingEntry,modifiedData]);var apiID=(0,_react.useMemo)(function(){return layout.apiID;},[layout.apiID]);/* eslint-disable indent */var entryHeaderTitle=isCreatingEntry?formatMessage({id:"".concat(_pluginId["default"],".containers.Edit.pluginHeader.title.new")}):(0,_strapiHelperPlugin.templateObject)({mainField:currentContentTypeMainField},initialData).mainField;/* eslint-enable indent */var headerTitle=(0,_react.useMemo)(function(){var title=isSingleType?currentContentTypeName:entryHeaderTitle;return title||currentContentTypeName;},[currentContentTypeName,entryHeaderTitle,isSingleType]);var headerActions=(0,_react.useMemo)(function(){var headerActions=[];if(isCreatingEntry&&canCreate||!isCreatingEntry&&canUpdate){headerActions=[{disabled:!didChangeData,onClick:function onClick(){toggleWarningCancel();},color:'cancel',label:formatMessage({id:"".concat(_pluginId["default"],".containers.Edit.reset")}),type:'button',style:{paddingLeft:15,paddingRight:15,fontWeight:600}},{disabled:!didChangeData,color:'success',label:formatMessage({id:"".concat(_pluginId["default"],".containers.Edit.submit")}),isLoading:isSubmitting,type:'submit',style:{minWidth:150,fontWeight:600}}];}if(!isCreatingEntry&&canDelete){headerActions.unshift({label:formatMessage({id:'app.utils.delete'}),color:'delete',onClick:function onClick(){toggleWarningDelete();},type:'button',style:{paddingLeft:15,paddingRight:15,fontWeight:600}});}return headerActions;},[canCreate,canDelete,canUpdate,didChangeData,isCreatingEntry,isSubmitting,formatMessage]);var headerProps=(0,_react.useMemo)(function(){return{title:{label:(0,_lodash.toString)(headerTitle)},content:"".concat(formatMessageRef.current({id:"".concat(_pluginId["default"],".api.id")})," : ").concat(apiID),actions:headerActions};},[headerActions,headerTitle,apiID]);var toggleWarningCancel=function toggleWarningCancel(){return setWarningCancel(function(prevState){return!prevState;});};var toggleWarningDelete=function toggleWarningDelete(){return setWarningDelete(function(prevState){return!prevState;});};var handleConfirmReset=function handleConfirmReset(){toggleWarningCancel();resetData();};var handleConfirmDelete=/*#__PURE__*/function(){var _ref=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){var errorMessage;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;// Show the loading state
setIsModalConfirmButtonLoading(true);emitEvent('willDeleteEntry');_context.next=5;return(0,_strapiHelperPlugin.request)(getRequestUrl("".concat(slug,"/").concat(initialData.id)),{method:'DELETE'});case 5:strapi.notification.success("".concat(_pluginId["default"],".success.record.delete"));emitEvent('didDeleteEntry');// This is used to perform action after the modal is closed
// so the transitions are smoother
// Actions will be performed in the handleClosed function
setDidDeleteEntry(true);_context.next=15;break;case 10:_context.prev=10;_context.t0=_context["catch"](0);emitEvent('didNotDeleteEntry',{error:_context.t0});errorMessage=(0,_lodash.get)(_context.t0,'response.payload.message',formatMessage({id:"".concat(_pluginId["default"],".error.record.delete")}));strapi.notification.error(errorMessage);case 15:_context.prev=15;setIsModalConfirmButtonLoading(false);toggleWarningDelete();return _context.finish(15);case 19:case"end":return _context.stop();}}},_callee,null,[[0,10,15,19]]);}));return function handleConfirmDelete(){return _ref.apply(this,arguments);};}();var handleClosed=function handleClosed(){if(didDeleteEntry){if(!isSingleType){redirectToPreviousPage();}else{clearData();}}setDidDeleteEntry(false);};return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_custom.Header,headerProps),/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.PopUpWarning,{isOpen:showWarningCancel,toggleModal:toggleWarningCancel,content:{title:"".concat(_pluginId["default"],".popUpWarning.title"),message:"".concat(_pluginId["default"],".popUpWarning.warning.cancelAllSettings"),cancel:"".concat(_pluginId["default"],".popUpWarning.button.cancel"),confirm:"".concat(_pluginId["default"],".popUpWarning.button.confirm")},popUpWarningType:"danger",onConfirm:handleConfirmReset}),/*#__PURE__*/_react["default"].createElement(_strapiHelperPlugin.PopUpWarning,{isOpen:showWarningDelete,toggleModal:toggleWarningDelete,content:{title:"".concat(_pluginId["default"],".popUpWarning.title"),message:"".concat(_pluginId["default"],".popUpWarning.bodyMessage.contentType.delete"),cancel:"".concat(_pluginId["default"],".popUpWarning.button.cancel"),confirm:"".concat(_pluginId["default"],".popUpWarning.button.confirm")},popUpWarningType:"danger",onConfirm:handleConfirmDelete,onClosed:handleClosed,isConfirmButtonLoading:isModalConfirmButtonLoading}));};var _default=Header;exports["default"]=_default;

/***/ }),

/***/ 2658:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _lodash=__webpack_require__(9);function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]();},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it["return"]!=null)it["return"]();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}/* eslint-disable no-restricted-syntax */var createAttributesLayout=function createAttributesLayout(currentLayout,attributes){var getType=function getType(name){return(0,_lodash.get)(attributes,[name,'type'],'');};var currentRowIndex=0;var newLayout=[];var _iterator=_createForOfIteratorHelper(currentLayout),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var row=_step.value;var hasDynamicZone=row.some(function(_ref){var name=_ref.name;return getType(name)==='dynamiczone';});if(!newLayout[currentRowIndex]){newLayout[currentRowIndex]=[];}if(hasDynamicZone){currentRowIndex=currentRowIndex===0&&(0,_lodash.isEmpty)(newLayout[0])?0:currentRowIndex+1;if(!newLayout[currentRowIndex]){newLayout[currentRowIndex]=[];}newLayout[currentRowIndex].push(row);currentRowIndex+=1;}else{newLayout[currentRowIndex].push(row);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return newLayout.filter(function(arr){return arr.length>0;});};var _default=createAttributesLayout;exports["default"]=_default;

/***/ }),

/***/ 2659:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.SubWrapper=exports.MainWrapper=exports.LinkWrapper=void 0;var _taggedTemplateLiteral2=_interopRequireDefault(__webpack_require__(4));var _styledComponents=_interopRequireDefault(__webpack_require__(3));function _templateObject3(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  background: #ffffff;\n  border-radius: 2px;\n  box-shadow: 0 2px 4px #e3e9f3;\n  ul {\n    list-style: none;\n    padding: 0;\n  }\n  li {\n    padding: 7px 20px;\n    border-top: 1px solid #f6f6f6;\n    &:first-of-type {\n      border-color: transparent;\n    }\n    &:not(:first-of-type) {\n      margin-top: 0;\n    }\n  }\n"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  > div {\n    margin-right: 0;\n    margin-left: 0;\n  }\n  padding: 22px 10px;\n"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=(0,_taggedTemplateLiteral2["default"])(["\n  background: #ffffff;\n  border-radius: 2px;\n  box-shadow: 0 2px 4px #e3e9f3;\n"]);_templateObject=function _templateObject(){return data;};return data;}var SubWrapper=_styledComponents["default"].div(_templateObject());exports.SubWrapper=SubWrapper;var MainWrapper=(0,_styledComponents["default"])(SubWrapper)(_templateObject2());exports.MainWrapper=MainWrapper;var LinkWrapper=(0,_styledComponents["default"])(SubWrapper)(_templateObject3());exports.LinkWrapper=LinkWrapper;

/***/ }),

/***/ 2660:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;function init(initialState){return initialState;}var _default=init;exports["default"]=_default;

/***/ }),

/***/ 2661:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var _interopRequireDefault=__webpack_require__(0);Object.defineProperty(exports,"__esModule",{value:true});exports.initialState=exports["default"]=void 0;var _immer=_interopRequireDefault(__webpack_require__(47));var initialState={formattedContentTypeLayout:[],isDraggingComponent:false};exports.initialState=initialState;var reducer=function reducer(state,action){return(// eslint-disable-next-line consistent-return
(0,_immer["default"])(state,function(drafState){switch(action.type){case'SET_IS_DRAGGING_COMPONENT':{drafState.isDraggingComponent=true;break;}case'SET_LAYOUT_DATA':{drafState.formattedContentTypeLayout=action.formattedContentTypeLayout;break;}case'RESET_PROPS':return initialState;case'UNSET_IS_DRAGGING_COMPONENT':{drafState.isDraggingComponent=false;break;}default:{return drafState;}}}));};var _default=reducer;exports["default"]=_default;

/***/ })

}]);